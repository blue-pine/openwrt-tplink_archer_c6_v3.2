<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Guest</title>
</head>

<body>
<div class="func-container">

    <div id="guest_global_cnt">
	    <div id="guest_global">
	    		<input type="text" id="guest_isolate" name="isolate" value=""/>
				<input type="text" id="guest_access" name="access" value=""/>
		</div>
	</div>
    
	<div id="guest_2g5g">
    	<div id="guest_setting_2g">
	    	<input type="text"  id="status_2g" name="guest_2g_enable" value=""/>
	    	<input type="text"  id="network_name_2g" name="guest_2g_ssid" value=""/>
			<input type="text"  id="hide_ssid_2g" name="guest_2g_hidden" value=""/>

			<p class="note hidden" id="note_title_2g">
	    		<span class="title note-title"></span>
	    		<span class="text" id="note_title_2g_text"></span>
	    	</p>
	    </div>
	   <!--  <h5 class="title hidden" id="note_title_2g"></h5> -->
	    
	   	<div id="guest_setting_5g" class="part-separate">
	    	<input type="text"  id="status_5g" name="guest_5g_enable" value=""/>
	    	<input type="text"  id="network_name_5g" name="guest_5g_ssid" value=""/>
			<input type="text"  id="hide_ssid_5g" name="guest_5g_hidden" value=""/>

			 <p class="note hidden" id="note_title_5g">
		    	<span class="title note-title"></span>
		    	<span class="text" id="note_title_5g_text"></span>
		    </p>
	    </div>
	   
	    <div id="guest_setting_52g" class="part-separate hidden">
	    	<input type="text"  id="status_52g" name="guest_5g_2_enable" value="" disabled/>
	    	<input type="text"  id="network_name_52g" name="guest_5g_2_ssid" value="" disabled/>
			<input type="text"  id="hide_ssid_52g" name="guest_5g_2_hidden" value="" disabled/>

			 <p class="note hidden" id="note_title_52g">
		    	<span class="title note-title"></span>
		    	<span class="text" id="note_title_52g_text"></span>
		    </p>
    	</div>

	    <br/>
    	<br/>
    	
		<div id="guest_password">
			<div id="guest_static_dynamic" class="hidden">
				<input type="text" name="guest_2g5g_passwd_cycle" id="guest_password_cycle" disabled />
				<div id="guest_password1">
					<input type="text" id="guest_dynamic_password"/>
				</div>
			</div>
				<div id="guest_password2">
					<input type="text"  id="guest_2g5g_security" name="guest_2g5g_encryption" value=""/>
					<div id="guest_2g5g_wpa_fieldset">
						<div id="guest_2g5g_wpa">
							<input type="text" id="guest_2g5g_personal_version" name="guest_2g5g_psk_version"/>
							<input type="text" id="guest_2g5g_personal_encryption" name="guest_2g5g_psk_cipher"/>
						</div>
						<div id="guest_2g5g_wpa3">
							<input type="text" id="guest_2g5g_wpa3_personal_version" name="guest_2g5g_psk_version"/>
							<input type="text" id="guest_2g5g_wpa3_personal_encryption" name="guest_2g5g_psk_cipher"/>
						</div>
						<input type="text" id="guest_2g5g_static_password"/>
						<input type="text"  class="hidden" name="guest_2g5g_psk_key" id="guest_2g5g_password"/>
					</div>
				<div id="portal_field" class="hidden">
					<input type="text" id="authen_type" name="guest_2g5g_authentication_type" disabled />
					<input type="text" id="portal_password" name="guest_2g5g_portal_password" disabled />
					<input type="text" id="authen_timeout" name="guest_2g5g_authentication_timeout" disabled />
					<input type="text" id="redirect" name="guest_2g5g_redirect" disabled />
					<input type="text" id="redirect_url" name="guest_2g5g_redirect_url" disabled />
					<div class="login_page_container">
						<span id="login_page"></span>
                        <label id="login_page_label">
                            <span class="icon"></span>
                            <span class="text"></span>
                        </label>
                        <a class="link" href="javascript:void(0);" id="edit_page"></a>
                    </div>
				</div>
			</div>
	    </div>
	    <p class="note hidden" id="note_title_all">
	    	<span class="title note-title"></span>
	    	<span class="text" id="note_title_all_text"></span>
	    </p>   
    </div>
    <div id="edit_page_msg" class="hidden">
		<div id="pre_browse_ctn">
			<div id="logo_image">
				<span class="icon"></span>
				<span class="text" id="login_welcome_text"></span>
			</div>
			<div id="protal_login_ctn">
				<input type="text" id="portal_password_view" />
				<button type="button" id="protal_login_btn"></button>
				<input type="text" id="temp_of_use" name="temp_of_use" />
        
    		</div>
		</div>
		<div id="login_page_info_ctn">
			<form id="portal-content">
				<input id="title" type="text" name="title">
				<textarea id="term-of-use" type="text" name="content"></textarea>
				<span id="term-hint" class="text-hint"></span>
			</form>
			<form id="upload-logo" class="file-upload-container">
				<span id="logo-tips" class="file-upload-tips"></span>
				<input id="logo-imge" type="file" name="logo"/>
				<input id="logo-upload" type="button"/>
				<input id="logo-upload-progressbar"/>
			</form>
			<form id="upload-back" class="file-upload-container">
				<span id="back-tips" class="file-upload-tips"></span>
				<input id="background-imge" type="file" name="background"/>
				<input id="back-upload" type="button" />
				<input id="back-upload-progressbar"/>
			</form>
			<span class ="filetype_tips"></span>
			<input id="portal_save" type="button"/>
		</div>
	</div>

    <div id="help_guest_set"></div>

	
</div>
<script type="text/javascript">
//<![CDATA[
try{
    $
}catch(e){
    location.href = "/";
};

$(document).ready(function(e){
	$.su.module = $.su.module || {};

	var tribandModule = $.su.module.triband.guestSettings();
	var portalModule = $.su.module.portal.guestSettings();
	var dynamicModule = $.su.module.dynamic.guestSettings();
	var wdsModule = $.su.module.wds.guest();

	var WIRELESS_GUEST_SET_URL_NEW = $.su.url("/admin/wireless?form=guest");

	var WIRELESS_GUEST_2G_5G_URL_NEW  = $.su.url("/admin/wireless?form=guest_2g&form=guest_5g&form=guest_2g5g");

	var URL_WIRELESS_2G_NEW = $.su.url("/admin/wireless?form=wireless_2g");
	var URL_WIRELESS_5G_NEW = $.su.url("/admin/wireless?form=wireless_5g");

	var URL_REGION_NEW = $.su.url("/admin/wireless?form=region");

	var wireless_2g_disabled = "off";
	var wireless_2g_disabled_all = "off";

	var wireless_5g_disabled = "off";
	var wireless_5g_disabled_all = "off";
	var psk3Versions = ["sae_transition", "sae_only"];

	// $("#note_title_2g").html($.su.CHAR.SYSPARA.SWITCH_NOTICE);
	// $("#note_title_5g").html($.su.CHAR.SYSPARA.SWITCH_NOTICE);
	$("span.note-title").text($.su.CHAR.OPERATION.NOTE);
	$("span#note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
	$("span#note_title_5g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);

	$("span#note_title_all_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
	$("span.filetype_tips").text($.su.CHAR.GUEST_SETTINGS.PORTAL_TIPS);

	

	$("div.func-container").page({
		title: $.su.CHAR.GUEST_SETTINGS.WIRELESS_SETTINGS,
		help: ""	//可能是个调用的id 也可能是个url
	});
	
	$("input#guest_isolate").checkbox({
		fieldLabel: null,
		// fieldLabel: $.su.CHAR.GUEST_SETTINGS.SEE_EACH,
		// cls: "inline",
		items: [
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.ALLOW_EACH, uncheckedValue:"off", inputValue: "on", id: "chk_allow_each"}
		]
	});
	$("input#guest_access").checkbox({
		fieldLabel: null,
		// fieldLabel: $.su.CHAR.GUEST_SETTINGS.ACCESS_LOCAL_NETWORK,
		// cls: "inline",
		items: [
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.ALLOW_LOCAL,  uncheckedValue:"off", inputValue: "on", id: "chk_allow_local"}
		]
	});
	
	var guestProxy = new $.su.Proxy({
		url: WIRELESS_GUEST_SET_URL_NEW
	});
	$("div#guest_global").form({
		proxy: guestProxy,
		fields: [
			{name: "access", mapping: "access"},
			{name: "isolate", mapping: "isolate"}
		],
		submitBtn: 'default',
		autoLoad: true
	}).on("ev_loadData", function(){
		if(window.sysMode == "ap"){
			$("#guest_access").checkbox("hide");
		}
	});
	$("div#guest_global_cnt").panel({
		title: $.su.CHAR.GUEST_SETTINGS.GLOBAL_SETTINGS,
		collapsible: false
	});
	

	$("div#guest_2g5g").panel({
		title: $.su.CHAR.GUEST_SETTINGS.WIRELESS,
		help: ""	//可能是个调用的id 也可能是个url
	});	
	
	/////////////// 2g
	$("input#status_2g").checkbox({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.WIRELESS_24G_RADIO,
		labelCls: 'l',
		tips:"",
		tipsCls:"s",
		//cls:"part-separate",
		items: [												
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.ENABLE_GUEST, uncheckedValue:"off", inputValue: "on", id: "chk_enable_guest_2g"}
		]
	});
	$("input#network_name_2g").textbox({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.NAME_SSID,
		labelCls: "l",
		vtype:{
			vtype:"string_visible_allow_blank",
			maxLength:32
		},
		maxLength:32,
		autoTrim:false,
		tipsCls:"after-checkbox",
		allowBlank:false,
		cls: 'inline-block'
	});
	$("input#hide_ssid_2g").checkbox({
		fieldLabel: null,
		cls: 'inline',
		items:[
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.HIDE_SSID,  uncheckedValue:"off", inputValue:'on' }
		]
	});
	
	/////////////// 5g
	$("input#status_5g").checkbox({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.WIRELESS_5G_RADIO,
		// cls: "inline",
		tips:"",
		tipsCls:"s",
		labelCls: 'l',
		items: [
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.ENABLE_GUEST,  uncheckedValue:"off", inputValue: "on", id: "chk_enable_guest_5g"}
		]
	});
	$("input#network_name_5g").textbox({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.NAME_SSID,
		labelCls: "l",
		vtype:{
			vtype:"string_visible_allow_blank",
			maxLength:32
		},
		maxLength:32,
		autoTrim:false,
		tipsCls:"after-checkbox",
		allowBlank:false,
		cls: 'inline-block'
	});
	$("input#hide_ssid_5g").checkbox({
		fieldLabel: null,
		cls: 'inline',
		items:[
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.HIDE_SSID,  uncheckedValue:"off", inputValue:'on' }
		]
	});

	dynamicModule.init();

	if($.su.module.support_wpa3_2g===true && $.su.module.support_wpa3_5g===true){
		var portalItems = [
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.NO_SECURITY, inputValue: 'none'},
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.WPA_WPA2_PERSONAL, inputValue: 'psk'},
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.WPA3_WPA2_PERSONAL, inputValue: 'psk_sae'}
		];
	}else{
		var portalItems = [
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.NO_SECURITY, inputValue: 'none'},
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.WPA_WPA2_PERSONAL, inputValue: 'psk'},
		];
	}

	portalItems = portalModule.extendItems(portalItems);
	
	$("input#guest_2g5g_security").radio({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.SECURITY,
		columns:3,
		labelCls: 'l',
		items:portalItems
	}).on("ev_change", function(e, oldValue, newValue){
		$('#guest_2g5g_wpa_fieldset').fieldset("hide");
		$('#guest_2g5g_wpa').fieldset("hide");
		$('#guest_2g5g_wpa3').fieldset("hide");
		switch(newValue)
		{
			case 'none':
				$('#guest_2g5g_wpa').fieldset("hide");
				portalModule.hide("#portal_field");
				break;
			case 'psk':
				$('#guest_2g5g_wpa_fieldset').fieldset("show");
				$('#guest_2g5g_wpa').fieldset("show");
				var versionValue = $("input#guest_2g5g_personal_version").radio("getValue");
				if($.inArray(versionValue, psk3Versions) >= 0){
					$("input#guest_2g5g_personal_version").radio("setValue","auto");
				}
				portalModule.hide("#portal_field");
				break;
			case 'psk_sae':
				$('#guest_2g5g_wpa_fieldset').fieldset("show");
				$('#guest_2g5g_wpa3').fieldset("show");
				var versionValue = $("input#guest_2g5g_wpa3_personal_version").radio("getValue");
				if($.inArray(versionValue, psk3Versions) < 0){
					$("input#guest_2g5g_wpa3_personal_version").radio("setValue","sae_transition");
				}
				portalModule.hide("#portal_field");
				break;
		}
		portalModule.setPortalSatus(newValue);
	});

	$('#guest_2g5g_wpa_fieldset').fieldset({
		fields: [
			{name: "guest_2g5g_psk_key"}
		]
	});
	$('#guest_2g5g_wpa_fieldset').fieldset("hide");

	$('#guest_2g5g_wpa3').fieldset({
		fields: [
			{name: "guest_2g5g_psk_version"},
			{name: "guest_2g5g_psk_cipher"}
		]
	});
	$('#guest_2g5g_wpa3').fieldset("hide");

	$('#guest_2g5g_wpa').fieldset({
		fields: [
			{name: "guest_2g5g_psk_version"},
			{name: "guest_2g5g_psk_cipher"},
			{name: "guest_2g5g_psk_key"}
		]
	});
	$('#guest_2g5g_wpa').fieldset("hide");

	$('#guest_setting_2g').fieldset({
		fields: [
			{name: "guest_2g_enable"},
			{name: "guest_2g_ssid"},
			{name: "guest_2g_hidden"}
		]
	});
	$('#guest_setting_5g').fieldset({
		fields: [
			{name: "guest_5g_enable"},
			{name: "guest_5g_ssid"},
			{name: "guest_5g_hidden"}
		]
	});


	///////////////portal functon/////////////////////
				
	portalModule.init();
	
	
	//////////////////////////////////////////////////////////////////

	$("input#guest_2g5g_wpa3_personal_version").radio({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.VERSION,
		columns:3,
		labelCls: 'l',
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'sae_transition', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.WPA3_PSK, inputValue: 'sae_only'}
		]
	});

	$("input#guest_2g5g_personal_version").radio({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.VERSION,
		columns:3,
		labelCls: 'l',
		items:[
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.AUTO, inputValue: 'auto'},
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.WPA_PSK, inputValue: 'wpa'},
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.WPA2_PSK, inputValue: 'rsn'}
		]
	});

	$("input#guest_2g5g_wpa3_personal_encryption").radio({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.ENCRYPTION,
		columns:3,
		cls: "hidden",
		labelCls: 'l',
		items:[
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.AES, inputValue: 'aes'}
		]
	});

	$("input#guest_2g5g_personal_encryption").radio({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.ENCRYPTION,
		columns:3,
		labelCls: 'l',
		items:[
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.AUTO, inputValue: 'auto'},
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.TKIP, inputValue: 'tkip'},
			{boxlabel: $.su.CHAR.GUEST_SETTINGS.AES, inputValue: 'aes'}
		]
	});
	
	$("input#guest_2g5g_static_password").textbox({
		fieldLabel: $.su.CHAR.GUEST_SETTINGS.WIRELESS_PASSWORD,
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		labelCls: "l",
		autoTrim: false,
		maxLength: 64
	});
	
	$("input#guest_2g5g_password").textbox({
	});

	var cur_region_data = {};
	var regionProxy = new $.su.Proxy({
		url: URL_REGION_NEW,
		async: false
	});

	regionProxy.read({}, function(data){
		cur_region_data = data.capability;
	});

	var guest2g5gProxy = new $.su.Proxy({
		url: WIRELESS_GUEST_2G_5G_URL_NEW
	});
	
	tribandModule.init(cur_region_data);

	var formFields = [
		{name: "guest_2g_enable"},
		{name: "guest_2g_ssid"},
		{name: "guest_2g_hidden"},

		{name: "guest_5g_enable"},
		{name: "guest_5g_ssid"},
		{name: "guest_5g_hidden"},

		{name: "guest_2g5g_encryption"},
		{name: "guest_2g5g_psk_version"},
		{name: "guest_2g5g_psk_cipher"},
		{name: "guest_2g5g_psk_key"}
	];
	formFields = dynamicModule.extendField(formFields);
	formFields = tribandModule.extendField(formFields);
	formFields = portalModule.extendField(formFields);

	var guestProxy = tribandModule.changeProxy(guest2g5gProxy);
	$("div#guest_2g5g").form({
		proxy: guestProxy,
		fields: formFields,
		submitBtn: 'default',
		autoLoad: true,
		validator:function(){
			var encryption = $("input#guest_2g5g_security").radio("getValue");
			var val = "";
				val = $("input#guest_2g5g_static_password").textbox("getValue");
			val = dynamicModule.formValidator(val);
				
			$("input#guest_2g5g_password").val(val);
			
			if(encryption == "none"){
				return true;
			}
			if(encryption == "psk" || encryption == "psk_sae"){
                var reg_64= /^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;
                var reg_63 = /^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]{8,63})$/;
                var reg = encryption == "psk" ? reg_64 : reg_63;

				if(reg.test(val)){
					return true;
				}else{
					var passwordObj = $("input#guest_2g5g_static_password");
					passwordObj = dynamicModule.getPasswordObj(passwordObj);
					var errTips = encryption == "psk_sae" ? $.su.CHAR.ERROR["00004193"] : $.su.CHAR.ERROR["00000066"];
					passwordObj.textbox("setError",errTips);
					return false;
				}
			}
			portalModule.redirectURL(encryption);
			return true;
		}
	}).on("ev_loadData", function(e, data){/////////////////////////????
		var val = $("input#guest_2g5g_password")[0].value;		
		$("#guest_password").css({
			"display" : "block"
		});

		var dataTemp = data.guest_2g_extinfo || {};
		if( (dataTemp.support_band == "2G") || (dataTemp.support_band == "none"))
		{
			$("span.second-mode").addClass("disabled");
		}
		else
		{
			$("span.second-mode").removeClass("disabled");
		}

		$("input#guest_2g5g_static_password").textbox("setValue",val);
		dynamicModule.setValue("input#guest_dynamic_password", val);
	});

	$.su.post(URL_WIRELESS_2G_NEW, function(data){
		if(typeof data.data == "undefined")
		{
			return;
		}
		// wire_channel_2g = data.data.channel;
		wireless_2g_disabled = data.data.disabled;
		wireless_2g_disabled_all = data.data.disabled_all;

		// if(wireless_2g_disabled == "on"){
		// 	$("#guest_setting_2g").form("disable");
		// 	$("input#guest_2g5g_security").radio("disable");
		// 	$('#guest_2g5g_wpa').fieldset("disable");
		// 	$($("div#guest_2g5g").get(0).submitBtn).addClass("disabled");
		// 	if(data.data.disabled_by == 0){
		// 		$("span#note_title_all_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
		// 	}
		// 	else{
		// 		$("span#note_title_all_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE2);
		// 	}
		// 	$("#note_title_all").removeClass("hidden");

		// 	dynamicModule.disable(["input#guest_dynamic_password", "input#guest_password_cycle"]);

		// }else{
			$("#guest_setting_2g").form("enable");
			$("input#guest_2g5g_security").radio("enable");
			$('#guest_2g5g_wpa_fieldset').fieldset("enable");
			$('#guest_2g5g_wpa').fieldset("enable");
			$('#guest_2g5g_wpa3').fieldset("enable");
			$("input#guest_2g5g_security").trigger("ev_change", ["", $("input#guest_2g5g_security").radio("getValue")]); 
			$($("div#guest_2g5g").get(0).submitBtn).addClass("enable");
			//$("#note_title_2g").addClass("hidden");
			$("#note_title_all").addClass("hidden");
			if(wireless_2g_disabled_all == "on"){
				$("#status_2g").checkbox("disable");
				$("#status_2g").checkbox("setTips", $.su.CHAR.WIRELESS.ENABLE_TIPS);
			}else{
				$("#status_2g").checkbox("enable");
				$("#status_2g").checkbox("setTips", "");
				wdsModule.wds2gProxyRead(data.data);
			}

			dynamicModule.enable(["input#guest_dynamic_password", "input#guest_password_cycle"]);
		// }
	},"json");

	$.su.post(URL_WIRELESS_5G_NEW, function(data){
		if(typeof data.data == "undefined"){
			return;
		}
		wireless_5g_disabled = data.data.disabled;
		wireless_5g_disabled_all = data.data.disabled_all;

		// if(wireless_5g_disabled == "on"){
		// 	$("#guest_setting_5g").form("disable");
		// 	$("input#guest_2g5g_security").radio("disable");
		// 	$('#guest_2g5g_wpa').fieldset("disable");
		// 	$($("div#guest_2g5g").get(0).submitBtn).addClass("disabled");
		// 	if(data.data.disabled_by == 0){
		// 		$("span#note_title_all_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
		// 	}
		// 	else{
		// 		$("span#note_title_all_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE2);
		// 	}
		// 	$("#note_title_all").removeClass("hidden");

		// 	dynamicModule.disable(["input#guest_dynamic_password", "input#guest_password_cycle"]);
		// }else{
			$("#guest_setting_5g").form("enable");
			$("input#guest_2g5g_security").radio("enable");
			$('#guest_2g5g_wpa_fieldset').fieldset("enable");
			$('#guest_2g5g_wpa').fieldset("enable");
			$('#guest_2g5g_wpa3').fieldset("enable");
			$("input#guest_2g5g_security").trigger("ev_change", ["", $("input#guest_2g5g_security").radio("getValue")]); 
			$($("div#guest_2g5g").get(0).submitBtn).addClass("enable");
			$("#note_title_all").addClass("hidden");
			if(wireless_5g_disabled_all == "on"){
				$("#status_5g").checkbox("disable");
				$("#status_5g").checkbox("setTips", $.su.CHAR.WIRELESS.ENABLE_TIPS);
			}else{
				$("#status_5g").checkbox("enable");
				$("#status_5g").checkbox("setTips", "");
				wdsModule.wds5gProxyRead(data.data);
			}

			dynamicModule.enable(["input#guest_dynamic_password", "input#guest_password_cycle"]);
		// }
	},"json");

	tribandModule.wireless52gProxy(dynamicModule);
	
	$("#guest_password").css({
		"display" : "none"
	});


	var toggleWpa3Help = function(visible2g, visible5g){
		if(visible2g === true && visible5g === true ){
			$("#WPA3_GUEST_TITLE").show();
		}else{
			$("#WPA3_GUEST_TITLE").hide();
		}
	};

	var helpGuestSet = new $.su.Help({
		container: "div#help_guest_set",
		content: ["GUEST_NETWORK_SETTINGS", "GUEST_NETWORK_WIRELESS"],
        afterLoad : function(){
			if(window.sysMode == "ap"){
				$("#access_local").hide();
			}
			var select = $("div#help_guest_set").find("h4.title");
			for(var i=0; i < this.content.length; ++i){
				$(select[i]).addClass(this.content[i]);
			}

			
			dynamicModule.helpInit();
			tribandModule.helpInit();
			portalModule.helpInit();
			toggleWpa3Help($.su.module.support_wpa3_2g, $.su.module.support_wpa3_5g);
        }
	});
});
//]]>
</script>

</body>
</html>
