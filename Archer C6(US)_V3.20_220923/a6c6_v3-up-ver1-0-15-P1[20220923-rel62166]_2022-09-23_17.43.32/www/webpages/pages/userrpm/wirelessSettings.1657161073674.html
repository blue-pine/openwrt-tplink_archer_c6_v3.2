<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Wireless</title>
</head>

<body>
<div class="func-container">
	<div id="wireless-global" class="hidden">
		<form id="region_form"  >
			<input  name="country" id="wireless_region" />
			<div><span id="not_support_tips" class="tips"></span></div>
		</form>
	</div>
    
	<div id="ofdma" class="hidden">
		<input type="text" id="enable_ofdma" name="enable" value="" />
	</div>

	<div id="smart_connect" class="hidden">
		<input type="text" id="enable_smart_connect" name="smart_enable" value="" />
	</div>
	
	<div id="wireless-2g">
		<div class="mode-change">
			<span id="show_2g" class="first-mode mode-select"></span>
			<span> | </span>
			<span id="show_5g" class="second-mode"></span>
			<span id="seprate_5g" class="hidden"> | </span>
			<span id="show_52g" class="third-mode hidden"></span>
		</div>

    	<form id="wireless-setting-2g">
	    	<input type="text"  id="status-2g" name="enable" value=""/>
	    	<input type="text"  id="network-name-2g" name="ssid" value=""/>
	    	<input type="text"  id="enable-ssid-2g" name="hidden" value=""/>
	    	<input type="text"  id="security-2g" name="encryption" value=""/>
			
			<div id="wpa3-personal-2g">
				<input type="text" id="wpa3-personal-version-2g" name="psk_version"/>
				<input type="text" id="wpa3-personal-encryption-2g" name="psk_cipher"/>
			</div>

			<div id="wpa-personal-2g">
				<input type="text" id="personal-version-2g" name="psk_version"/>
				<input type="text" id="personal-encryption-2g" name="psk_cipher"/>
			</div>
			<input type="text" id="personal-password-2g" name="psk_key"/>
			

			<div id="enterprise-fieldset-2g">
				<!-- ><div id="wpa3-enterprise-2g" class="force-hidden">
					<input type="text" id="wpa3-enterprise-version-2g" name="wpa_version"/>
					<input type="text" id="wpa3-enterprise-encryption-2g" name="wpa_cipher"/>
				</div> -->

				<div id="wpa-enterprise-2g">
					<input type="text" id="enterprise-version-2g" name="wpa_version"/>
					<input type="text" id="enterprise-encryption-2g" name="wpa_cipher"/>
				</div>

				<input type="text" id="enterprise-ip-2g" name="server"/>
				<input type="text" id="enterprise-port-2g" name="port"/>
				<input type="text" id="enterprise-password-2g" name="wpa_key"/>
		
			</div>
			
			<div id="wep-2g">
				<input type="text" id="wep-type-2g" name="wep_mode"/>
				<input type="text" id="wep-key-select-2g" name="wep_select"/>
				<div id="key1_cnt_2g">
					<input type="text" id="wep-key1-format-2g" name="wep_format1"/>
					<input type="text" id="wep-key1-type-2g" name="wep_type1"/>
					<input type="text" id="wep-key1-value-2g" name="wep_key1"/>
				</div>
				<div id="key2_cnt_2g" class="hidden">
					<input type="text" id="wep-key2-format-2g" name="wep_format2"/>
					<input type="text" id="wep-key2-type-2g" name="wep_type2"/>
					<input type="text" id="wep-key2-value-2g" name="wep_key2"/>
				</div>
				<div id="key3_cnt_2g" class="hidden">
					<input type="text" id="wep-key3-format-2g" name="wep_format3"/>
					<input type="text" id="wep-key3-type-2g" name="wep_type3"/>
					<input type="text" id="wep-key3-value-2g" name="wep_key3"/>
				</div>
				<div id="key4_cnt_2g" class="hidden">
					<input type="text" id="wep-key4-format-2g" name="wep_format4"/>
					<input type="text" id="wep-key4-type-2g" name="wep_type4"/>
					<input type="text" id="wep-key4-value-2g" name="wep_key4"/>
				</div>
				
			</div>
			
			<div class="mode-channel">	
				<input type="text"  id="mode-2g" name="hwmode" value=""/>
				<div id="chwidth_2g" class="hidden">
					<input type="text"  id="channelwidth-2g" name="htmode" value=""/>
				</div>
				<input type="text"  id="channel-2g" name="channel" value=""/>
	    	</div>
				<input type="text"  id="transmit-power-2g" name="txpower" value=""/>
				<input type="hidden"  id="wireless_2g_disabled_all" name="disabled_all" value="on"/>

				<!-- airtime -->
				<input type="text"  id="fairness_2g" name="airtime_fairness" class="hidden" value="" disabled  />
				<input type="text"  id="mimo_2g" name="mu_mimo" class="hidden" value="" disabled/>
				<p class="note hidden" id="mimo_note_title_2g">
					<span class="title note-title"></span>
					<span class="text" id="mimo_note_title_2g_text"></span>
				</p>

				<p class="note hidden" id="note_title_2g">
					<span class="title note-title"></span>
					<span class="text" id="note_title_2g_text"></span>
				</p>
			
	    </form>
		 <!--<button type="button" class="btn-save"></button>-->
         <form id="wireless-setting-5g" class="hidden">
	    	<input type="text"  id="status-5g" name="enable" value=""/>
	    	<input type="text"  id="network-name-5g" name="ssid" value=""/>
	    	<input type="text"  id="enable-ssid-5g" name="hidden" value=""/>
	    	<input type="text"  id="security-5g" name="encryption" value=""/>
			
			<div id="wpa3-personal-5g" class="hidden">
				<input type="text" id="wpa3-personal-version-5g" name="psk_version"/>
				<input type="text" id="wpa3-personal-encryption-5g" name="psk_cipher"/>
			</div>
			
			<div id="wpa-personal-5g" class="hidden">
				<input type="text" id="personal-version-5g" name="psk_version"/>
				<input type="text" id="personal-encryption-5g" name="psk_cipher"/>
			</div>
			<input type="text" id="personal-password-5g" name="psk_key"/>

			<div id="enterprise-fieldset-5g">
				<!-- ><div id="wpa3-enterprise-5g" class="force-hidden">
					<input type="text" id="wpa3-enterprise-version-5g" name="wpa_version"/>
					<input type="text" id="wpa3-enterprise-encryption-5g" name="wpa_cipher"/>
				</div> -->

				<div id="wpa-enterprise-5g">
					<input type="text" id="enterprise-version-5g" name="wpa_version"/>
					<input type="text" id="enterprise-encryption-5g" name="wpa_cipher"/>
			
				</div>
				<input type="text" id="enterprise-ip-5g" name="server"/>
				<input type="text" id="enterprise-port-5g" name="port"/>
				<input type="text" id="enterprise-password-5g" name="wpa_key"/>
			</div>
			
			<div id="wep-5g"  class="hidden">
				<input type="text" id="wep-type-5g" name="wep_mode"/>
				<input type="text" id="wep-key-select-5g" name="wep_select"/>
				<div id="key1_cnt_5g">
					<input type="text" id="wep-key1-format-5g" name="wep_format1"/>
					<input type="text" id="wep-key1-type-5g" name="wep_type1"/>
					<input type="text" id="wep-key1-value-5g" name="wep_key1"/>
				</div>
				<div id="key2_cnt_5g" class="hidden">
					<input type="text" id="wep-key2-format-5g" name="wep_format2"/>
					<input type="text" id="wep-key2-type-5g" name="wep_type2"/>
					<input type="text" id="wep-key2-value-5g" name="wep_key2"/>
				</div>
				<div id="key3_cnt_5g" class="hidden">
					<input type="text" id="wep-key3-format-5g" name="wep_format3"/>
					<input type="text" id="wep-key3-type-5g" name="wep_type3"/>
					<input type="text" id="wep-key3-value-5g" name="wep_key3"/>
				</div>
				<div id="key4_cnt_5g" class="hidden">
					<input type="text" id="wep-key4-format-5g" name="wep_format4"/>
					<input type="text" id="wep-key4-type-5g" name="wep_type4"/>
					<input type="text" id="wep-key4-value-5g" name="wep_key4"/>
				</div>
				
			</div>
			
			<div class="mode-channel">
				<input type="text"  id="mode-5g" name="hwmode" value=""/>
				<div id="chwidth_5g" class="hidden">
						<input type="text"  id="channelwidth-5g" name="htmode" value=""/>
				</div>
				<input type="text"  id="channel-5g" name="channel" value=""/>
	    	</div>
				<input type="text"  id="transmit-power-5g" name="txpower" value=""/>
				<input type="hidden"  id="wireless_5g_disabled_all" name="disabled_all" value="on"/>

				<input type="text"  id="fairness_5g" name="airtime_fairness" value="" disabled class="hidden" />
				<input type="text"  id="mimo_5g" name="mu_mimo" value=""  disabled class="hidden"/>
				<p class="note hidden" id="mimo_note_title_5g">
					<span class="title note-title"></span>
					<span class="text" id="mimo_note_title_5g_text"></span>
				</p>

				<p class="note hidden" id="note_title_5g">
					<span class="title note-title"></span>
					<span class="text" id="note_title_5g_text"></span>
				</p>
			</form>
	   
		<form id="wireless-setting-52g" class="hidden">
			<input type="text"  id="status-52g" name="enable" value=""/>
			<input type="text"  id="network-name-52g" name="ssid" value=""/>
			<input type="text"  id="enable-ssid-52g" name="hidden" value=""/>
			<input type="text"  id="security-52g" name="encryption" value=""/>

			<div id="wpa3-personal-52g">
				<input type="text" id="wpa3-personal-version-52g" name="psk_version"/>
				<input type="text" id="wpa3-personal-encryption-52g" name="psk_cipher"/>
			</div>

			<div id="wpa-personal-52g" class="hidden">
				<input type="text" id="personal-version-52g" name="psk_version"/>
				<input type="text" id="personal-encryption-52g" name="psk_cipher"/>
			</div>
			<input type="text" id="personal-password-52g" name="psk_key"/>

			<div id="enterprise-fieldset-52g">
				<!-- ><div id="wpa3-enterprise-52g" class="force-hidden">
					<input type="text" id="wpa3-enterprise-version-52g" name="wpa_version"/>
					<input type="text" id="wpa3-enterprise-encryption-52g" name="wpa_cipher"/>
				</div> -->
				<div id="wpa-enterprise-52g">
					<input type="text" id="enterprise-version-52g" name="wpa_version"/>
					<input type="text" id="enterprise-encryption-52g" name="wpa_cipher"/>
				</div>
				<input type="text" id="enterprise-ip-52g" name="server"/>
				<input type="text" id="enterprise-port-52g" name="port"/>
				<input type="text" id="enterprise-password-52g" name="wpa_key"/>
			</div>

			<div id="wep-52g"  class="hidden">
				<input type="text" id="wep-type-52g" name="wep_mode"/>
				<input type="text" id="wep-key-select-52g" name="wep_select"/>
				<div id="key1_cnt_52g">
					<input type="text" id="wep-key1-format-52g" name="wep_format1"/>
					<input type="text" id="wep-key1-type-52g" name="wep_type1"/>
					<input type="text" id="wep-key1-value-52g" name="wep_key1"/>
				</div>
				<div id="key2_cnt_52g" class="hidden">
					<input type="text" id="wep-key2-format-52g" name="wep_format2"/>
					<input type="text" id="wep-key2-type-52g" name="wep_type2"/>
					<input type="text" id="wep-key2-value-52g" name="wep_key2"/>
				</div>
				<div id="key3_cnt_52g" class="hidden">
					<input type="text" id="wep-key3-format-52g" name="wep_format3"/>
					<input type="text" id="wep-key3-type-52g" name="wep_type3"/>
					<input type="text" id="wep-key3-value-52g" name="wep_key3"/>
				</div>
				<div id="key4_cnt_52g" class="hidden">
					<input type="text" id="wep-key4-format-52g" name="wep_format4"/>
					<input type="text" id="wep-key4-type-52g" name="wep_type4"/>
					<input type="text" id="wep-key4-value-52g" name="wep_key4"/>
				</div>
			</div>
			<div class="mode-channel">
				<input type="text"  id="mode-52g" name="hwmode" value=""/>
				<div id="chwidth_52g" class="hidden">
					<input type="text"  id="channelwidth-52g" name="htmode" value=""/>
				</div>
				<input type="text"  id="channel-52g" name="channel" value=""/>
			</div>
			<input type="text"  id="transmit-power-52g" name="txpower" value=""/>
			<input type="hidden"  id="wireless_52g_disabled_all" name="disabled_all" value="on"/>
	
			<input type="text"  id="fairness_52g" name="airtime_fairness" value="" disabled class="hidden"/>
			<input type="text"  id="mimo_52g" name="mu_mimo" value="" disabled class="hidden"/>
			<p class="note hidden" id="mimo_note_title_52g">
				<span class="title note-title"></span>
				<span class="text" id="mimo_note_title_52g_text"></span>
			</p>
	
			<p class="note hidden" id="note_title_52g">
				<span class="title note-title"></span>
				<span class="text" id="note_title_52g_text"></span>
			</p>
		</form>
	</div>

	<div id="help-wireless-setting"></div>
</div>

<script type="text/javascript">
//<![CDATA[
try{
    $
}catch(e){
    location.href = "/";
};

$(document).ready(function(e){
	//load module
	$.su.module = $.su.module || {};

	var tribandModule = $.su.module.triband.wirelessSettings();
	var smartModule = $.su.module.smart.wirelessSettings();
	var mimoModule = $.su.module.mimo.wirelessSettings();
	var atfModule = $.su.module.atf.wirelessSettings();
	var wdsModule = $.su.module.wds.wirelessSettings();
	var ofdmaModule = $.su.module.ofdma.wirelessSettings();
	
	$.su.module.installedModule = {};
	$.su.module.installedModule["smartModule"] = smartModule;
	
	// var cur_region_data = {};
	var cur_region_data = {
		"hwmode_2g": [ "b", "g", "bg", "n", "ng" ], 
		"hwmode_5g": [ "a", "an", "na", "ac" ], 
		"htmode_2g": [ "auto", "20", "40" ], 
		"htmode_5g": [ "auto", "20", "40", "80" ], 
		"channel_5g": [ 36, 40, 44, 48, 100, 120, 161, 165 ], 
		"channel_2g": [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13 ] 
	};
	var region_data = {};
	var cur_channel_5g;
	var psk3Versions = ["sae_transition", "sae_only"];

	

	var airtime_fairness_support_2g4 = "no";
	var mu_mimo_support_2g4 = "no";
	var airtime_fairness_support = "no";
	var mu_mimo_support = "no";


	var URL_REGION = "./data/wireless.region.json";
	var URL_WIRELESS_2G = "./data/wireless.24g.json";
	var URL_WIRELESS_5G = "./data/wireless.5g.json";




	var URL_REGION_NEW = $.su.url("/admin/wireless?form=region");
	var URL_WIRELESS_2G_NEW = $.su.url("/admin/wireless?form=wireless_2g");
	var URL_WIRELESS_5G_NEW = $.su.url("/admin/wireless?form=wireless_5g");


	var URL_REGION_LOAD_NEW = $.su.url("/admin/region?form=region");


	var SYS_WIRELESS_2G_URL_NEW = $.su.url("/admin/wireless?form=syspara_2g");
	var SYS_WIRELESS_5G_URL_NEW = $.su.url("/admin/wireless?form=syspara_5g");

	ofdmaModule.init();

	var disabled_5g = "";
	var disabled_2g = "";

	/* avoid channel combox being updated by old current_channel after click save button */
	var skip_old_current_channel_2g = false;
	var skip_old_current_channel_5g = false;

	var lanIP = 0;
	var lanMask = 0;

	var lanProxy = new $.su.Proxy({
		url: $.su.url('/admin/network?form=lan_ipv4')
	});

	lanProxy.read({}, function(data){
		lanIP = data.ipaddr;
		lanMask = data.mask_type;
	});

	var region_select_permission = "yes";

	$("span#not_support_tips").hide();
	$("span#not_support_tips").html($.su.CHAR.WIRELESS.NOT_SUPPORT_5G);

	function is_2g_mode()
	{
		if($("span.first-mode").hasClass("mode-select"))
		{
			return true;
		}
		else
		{
			return false;
		}
	}

	$("div.func-container").page({
		title: $.su.CHAR.WIRELESS.WIRELESS_SETTINGS,
		help: ""	//可能是个调用的id 也可能是个url
	});
	
	$("div#wireless-global").panel({
		title: $.su.CHAR.WIRELESS.GLOBAL_SETTINGS,
		collapsible: false
	});
	$("div#wireless-global").panel("hide");

	$("#show_2g").html($.su.CHAR.WIRELESS.MODE_2G);
	$("#show_5g").html($.su.CHAR.WIRELESS.MODE_5G);

	// $("#note_title").html($.su.CHAR.WIRELESS.NOTICE);

	$("span.note-title").text($.su.CHAR.OPERATION.NOTE);
	$("span#note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
	$("span#note_title_5g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
	
	$("span.first-mode").click(function(){
		if($(this).hasClass("mode-select"))
		{
		}
		else
		{
			$(this).addClass("mode-select");
			//$("span.second-mode").toggleClass("mode-select");
			$("span.second-mode").hasClass("mode-select")? $("span.second-mode").toggleClass("mode-select") : 1;
			$("#wireless-setting-5g").form("hide");
			$("#wireless-setting-2g").form("show");
			tribandModule.modeHide();
			$("form#wireless-setting-2g").form("load");
		}
		// $("span.first-mode").toggleCss("mode-select");
	});

	$("span.second-mode").click(function(){
		if($(this).hasClass("mode-select"))
		{
		}
		else
		{
			if($(this).hasClass("disabled"))
			{
				return false;
			}
			$(this).addClass("mode-select");
			//$("span.first-mode").toggleClass("mode-select");
			$("span.first-mode").hasClass("mode-select")? $("span.first-mode").toggleClass("mode-select") : 1;
			$("#wireless-setting-2g").form("hide");
			$("#wireless-setting-5g").form("show");
			tribandModule.modeHide();
			$("form#wireless-setting-5g").form("load");
		}
		// $("span.first-mode").toggleCss("mode-select");
	});
			
	$("#wireless_region").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.REGION,
		labelCls: "l",
		tips: "",
		// labelCls: "l",
		inputCls: "xxl",
		items: [
			
		]
	});

	var regionItem = [];
	regionItem = $.su.loadComboData(URL_REGION_LOAD_NEW, {}, [
		{
			srcKey:"name", 
			dstKey:"name", 
			func:function(src, para){
				return para[src];
			}, 
			para:$.su.CHAR.REGION
		},
		{srcKey:"value", dstKey:"value"}
	]);
	$("#wireless_region").combobox("loadData",regionItem);

	function isEmptyObject(obj)
	{ 
		for (var name in obj) 
		{ 
			return false; 
		} 
		return true; 
	} 

	var regionFormProxy = new $.su.Proxy({
        timeout:20*1000,
        url:URL_REGION_NEW,
        async: false
    });
	var regionFormProxy2 = new $.su.Proxy({
        timeout:20*1000,
        url:URL_REGION_NEW
    });
	
	regionFormProxy.read({},function(data){
		cur_region_data = data.capability;
		region_data = data;
	});

	$("form#region_form").form({
		proxy: regionFormProxy2,
		fields: [
			{name: "country", mapping: "country"}
		],
		autoLoad:false,
		submitBtn: "default"
	}).on("ev_loadData",function(e,data){
		region_data = data;
		cur_region_data = data.capability;
		init_load_form(region_data);
	});

	/////////////// 2g panel	
	$("div#wireless-2g").panel({
		title: $.su.CHAR.WIRELESS.WIRELESS
		//help: ""	//可能是个调用的id 也可能是个url
	});	

	$("input#status-2g").checkbox({
		fieldLabel: "",
		// cls: "inline",
		tips:"",
		tipsCls:"s",
		labelCls: "l",
		items: [
			{boxlabel: $.su.CHAR.WIRELESS.ENABLE_WIRELESS, uncheckedValue:"off", inputValue: "on", id: "chk-enable-wireless-24g"}
		]
	}).on("ev_change", function(e, oldValue, newValue){

		if( (newValue.length == 0) || (newValue == "off"))
		{
			$("#wireless_2g_disabled_all").val("on");
		}
		else
		{
			$("#wireless_2g_disabled_all").val("off");
		}
	});
	
	$("input#network-name-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.WIRELESS_NETWORK_NAME,
		vtype:{
			vtype:"string_visible_allow_blank",
			maxLength:32
		},
		labelCls: "l",
		maxLength:32,
		autoTrim:false,
		tipsCls:"after-checkbox",
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
	//	labelCls: "l",
		allowBlank:false,
		cls: 'inline-block'
	});
	
	$("input#enable-ssid-2g").checkbox({
		fieldLabel: null,
		cls: "inline",
		items: [
			{boxlabel: $.su.CHAR.WIRELESS.HIDE_SSID,  uncheckedValue:"off", inputValue: "on", id: "chk-enable-ssid-broadcast"}
		]
	});

	$('#wpa3-personal-2g').fieldset({
		fields: [
			{name: "psk_version"},
			{name: "psk_cipher"},
			{name: "psk_key"}
		]
	}).hide();

	$('#wpa-personal-2g').fieldset({
		fields: [
			{name: "psk_version"},
			{name: "psk_cipher"},
			{name: "psk_key"}
		]
	}).hide();


	/*$('#wpa3-enterprise-2g').fieldset({
		fields: [
			{name: "wpa_version"},
			{name: "wpa_cipher"}
		]
	}).hide();*/

	$('#wpa-enterprise-2g').fieldset({
		fields: [
			{name: "wpa_version"},
			{name: "wpa_cipher"},
			{name: "server"},
			{name: "port"},
			{name: "wpa_key"}
		]
	}).hide();

	$('#enterprise-fieldset-2g').fieldset({
		fields: [
			{name: "server"},
			{name: "port"},
			{name: "wpa_key"}
		]
	}).hide();

	$('#wep-2g').fieldset({
		fields: [
			{name: "wep_mode"},
			{name: "wep_format1"},
			{name: "wep_format2"},
			{name: "wep_format3"},
			{name: "wep_format4"},
			{name: "wep_select"},
			{name: "wep_type1"},
			{name: "wep_key1"},
			{name: "wep_type2"},
			{name: "wep_key2"},
			{name: "wep_type3"},
			{name: "wep_key3"},
			{name: "wep_type4"},
			{name: "wep_key4"}
		]
	}).hide();
	
	var securityItem2g = [];
	if( $.su.module.support_wpa3_2g == true ){
		securityItem2g = [
			{"value": "none", "name": $.su.CHAR.WIRELESS.NO_SECURITY},
			{"value": "psk", "name": $.su.CHAR.WIRELESS.WPA_WPA2_PERSONAL},
			{"value": "psk_sae", "name": $.su.CHAR.WIRELESS.WPA3_WPA2_PERSONAL},
			//{"value": "wpa3", "name": $.su.CHAR.WIRELESS.WPA3_ENTERPRISE},
			{"value": "wpa", "name": $.su.CHAR.WIRELESS.WPA_WPA2_ENTERPRISE},
			//{"value": "wep", "name": $.su.CHAR.WIRELESS.WEP}
		];
	}else{
		securityItem2g = [
			{"value": "none", "name": $.su.CHAR.WIRELESS.NO_SECURITY},
			{"value": "psk", "name": $.su.CHAR.WIRELESS.WPA_WPA2_PERSONAL_RE},
			{"value": "wpa", "name": $.su.CHAR.WIRELESS.WPA_WPA2_ENTERPRISE},
			{"value": "wep", "name": $.su.CHAR.WIRELESS.WEP}
		];
	}
	
	$("input#security-2g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.SECURITY,
		//tips: "The tips of combo multi.",
		//labelCls: "l",
		inputCls: "xxl",
		labelCls: "l",
		items: securityItem2g
	}).on("ev_change", function(e, oldValue, newValue){
		$('#wpa3-personal-2g').fieldset("hide");
		$('#wpa-personal-2g').fieldset("hide");
		$("input#personal-password-2g").textbox("hide");

		$('#enterprise-fieldset-2g').fieldset("hide");
		//$('#wpa3-enterprise-2g').fieldset("hide");
		$('#wpa-enterprise-2g').fieldset("hide");
		// //console.log("wep hide");
		// //console.log(newValue[0]);
		$('#wep-2g').fieldset("hide");
		$('#mode-2g').combobox("enableItem",["n", "an"]);
		switch(newValue[0])
		{
			case 'psk_sae': 
			case 'psk': 
			// psk_sae
			if (newValue[0] === 'psk_sae') {
				$('#wpa3-personal-2g').fieldset("show");
				var versionValue=$("input#wpa3-personal-version-2g").radio("getValue");
				if($.inArray(versionValue, psk3Versions) < 0){
					$("input#wpa3-personal-version-2g").radio("setValue","sae_transition");
				}
			}
			// psk
			if (newValue[0] === 'psk') {
				$('#wpa-personal-2g').fieldset("show");
				var versionValue=$("input#personal-version-2g").radio("getValue");
				if($.inArray(versionValue, psk3Versions) >= 0){
					$("input#personal-version-2g").radio("setValue","auto");
				}
			}
			// common for psk_sae and psk
				$("input#personal-password-2g").textbox("show");
				$('#mode-2g').combobox("enableItem",["n", "an"]);
				var  personal_encryption_2g = $("input#personal-encryption-2g").radio("getValue");
				var  mode_2g = $("input#mode-2g").combobox("getValue");
				if( ((personal_encryption_2g == "tkip")&&(mode_2g == "n")) || ((personal_encryption_2g == "tkip")&&(mode_2g == "an")) )
				{
					$("input#personal-encryption-2g").radio("setValue", "auto");
				}
				if(personal_encryption_2g == "tkip")
				{
					$('#mode-2g').combobox("disableItem",["n", "an"]);
				}
				if(( mode_2g == "n") || (mode_2g == "an"))
				{
					$("input#enterprise-encryption-2g").radio("disableItem", ["tkip"]);
					$("input#personal-encryption-2g").radio("disableItem", ["tkip"]);
				}
				break;
			case 'wpa3':
			case 'wpa': 
				// wpa3
			if (newValue[0] === 'wpa3') {
				//$('#wpa3-enterprise-2g').fieldset("show");
				//$("#wpa3-enterprise-version-2g").radio("setValue", "wpa3");
				//$("#wpa3-enterprise-encryption-2g").radio("setValue", "gcmp");
			}
			// wpa
			if (newValue[0] === 'wpa') {
				$('#wpa-enterprise-2g').fieldset("show");
				var versionValue = $("#enterprise-version-2g").radio("getValue");
				var encryptionValue = $("#enterprise-encryption-2g").radio("getValue");
				$("#enterprise-version-2g").radio("setValue", versionValue === "wpa3" ? "auto" : versionValue);
				$("#enterprise-encryption-2g").radio("setValue", encryptionValue === "gcmp" ? "auto" : encryptionValue);
			}
			// common for wpa3 and wpa
				$('#enterprise-fieldset-2g').fieldset("show");				
				$('#mode-2g').combobox("enableItem",["n", "an"]);
				var  enterprise_encryption_2g = $("input#enterprise-encryption-2g").radio("getValue");
				var  mode_2g = $("input#mode-2g").combobox("getValue");
				if( ((enterprise_encryption_2g == "tkip")&&(mode_2g == "n")) || ((enterprise_encryption_2g == "tkip")&&(mode_2g == "an")) )
				{
					$("input#enterprise-encryption-2g").radio("setValue", "auto");
				}
				if(enterprise_encryption_2g == "tkip")
				{
					$('#mode-2g').combobox("disableItem",["n", "an"]);
				}
				if(( mode_2g == "n") || (mode_2g == "an"))
				{
					$("input#enterprise-encryption-2g").radio("disableItem", ["tkip"]);
					$("input#personal-encryption-2g").radio("disableItem", ["tkip"]);
				}
				break;
			case 'wep':
				// //console.log('wep'); 
				// $('div#wep-2g').show();
				
				$('#wep-2g').fieldset("show");
				$('#mode-2g').combobox("disableItem",["n", "an"]);

				if($("form#wireless-setting-2g").data("data"))
				{
					// //console.log($("form#wireless-setting-2g").data("data").wep_select); 
					var keyIndex = $("form#wireless-setting-2g").data("data").wep_select;
					switch(keyIndex)
					{
						case '1': 
							// $('div#wpa-personal-5g').show();
							$('#key1_cnt_2g').fieldset("show");
							$('#key2_cnt_2g').fieldset("hide");
							$('#key3_cnt_2g').fieldset("hide");
							$('#key4_cnt_2g').fieldset("hide");
							break;
						case '2': 
							// $('div#wpa-personal-5g').show();
							$('#key1_cnt_2g').fieldset("hide");
							$('#key2_cnt_2g').fieldset("show");
							$('#key3_cnt_2g').fieldset("hide");
							$('#key4_cnt_2g').fieldset("hide");
							break;
						case '3': 
							// $('div#wpa-enterprise-5g').show();
							$('#key1_cnt_2g').fieldset("hide");
							$('#key2_cnt_2g').fieldset("hide");
							$('#key3_cnt_2g').fieldset("show");
							$('#key4_cnt_2g').fieldset("hide");
							break;
						case '4': 
							// $('div#wep-5g').show();
							$('#key1_cnt_2g').fieldset("hide");
							$('#key2_cnt_2g').fieldset("hide");
							$('#key3_cnt_2g').fieldset("hide");
							$('#key4_cnt_2g').fieldset("show");
							break;
					};
				}
				break;
		}
	});

	$("input#wpa3-personal-version-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:2,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'sae_transition', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.WPA3_PSK, inputValue: 'sae_only'}
		]
	});

	$("input#personal-version-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.WPA_PSK, inputValue: 'wpa'},
			{boxlabel: $.su.CHAR.WIRELESS.WPA2_PSK, inputValue: 'rsn'}
		]
	});
	
	$("input#wpa3-personal-encryption-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:1,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'aes',checked: true}
		]
	})
	$("input#wpa3-personal-encryption-2g").radio("hide")

	$("input#personal-encryption-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto'},
			{boxlabel: $.su.CHAR.WIRELESS.TKIP, inputValue: 'tkip'},
			{boxlabel: $.su.CHAR.WIRELESS.AES, inputValue: 'aes'}
		]
	}).on("ev_change",function(e, oldValue, newValue){
		switch(newValue)
		{
			case 'auto':
				$('#mode-2g').combobox("enableItem",["n", "an"]);
				break;
			case 'aes':
				$('#mode-2g').combobox("enableItem",["n", "an"]);
				break;
			case 'tkip':
				$('#mode-2g').combobox("disableItem",["n", "an"]);
				break;
		}
		
	});
	
	$("input#personal-password-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.WIRELESS_PASSWORD,
		labelCls:'l',
		autoTrim:false,
		maxLength: 64
		// vtype:{
		// 	vtype:
		// }
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
	//	labelCls: "l"
	});
	$("input#personal-password-2g").textbox("hide");

	/*$("input#wpa3-enterprise-version-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: '', inputValue: 'wpa3', checked:true}
		]
	});

	$("input#wpa3-enterprise-encryption-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: '', inputValue: 'gcmp', checked:true}
		]
	});*/

	$("input#enterprise-version-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.WPA, inputValue: 'wpa'},
			{boxlabel: $.su.CHAR.WIRELESS.WPA2, inputValue: 'rsn'}
		]
	});
	
	// $("input#enterprise-encryption-2g").switchbutton({
	// 	fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
	// 	labelCls:'l',
	// 	items:[
	// 		{text: $.su.CHAR.WIRELESS.AUTO, value:0,handler: null, cls:'', selected: true},
	// 		{text: $.su.CHAR.WIRELESS.TKIP, value:1,handler: null},
	// 		{text: $.su.CHAR.WIRELESS.AES, value:2,handler: null}
	// 	]
	// });
//
	$("input#enterprise-encryption-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto'},
			{boxlabel: $.su.CHAR.WIRELESS.TKIP, inputValue: 'tkip'},
			{boxlabel: $.su.CHAR.WIRELESS.AES, inputValue: 'aes'}
		]
	}).on("ev_change",function(e, oldValue, newValue){
		switch(newValue)
		{
			case 'auto':
				$('#mode-2g').combobox("enableItem",["n", "an"]);
				break;
			case 'aes':
				$('#mode-2g').combobox("enableItem",["n", "an"]);
				break;
			case 'tkip':
				$('#mode-2g').combobox("disableItem",["n", "an"]);
				break;
		}
		
	});
	
	$("input#enterprise-ip-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.RADIUS_SERVER_IP,
		textFormat:$.su.format.ip,
		labelCls:'l',
		maxLength:15,
		validator:function(val){
			if($.su.func.ipToInt(val) == $.su.func.ipToInt(lanIP))
			{
				return $.su.CHAR.ERROR["00000077"];
			}
			return true;
		},
		vtype:"ip"

	});
	
	$("input#enterprise-port-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.RADIUS_PORT,
		labelCls:'l',
		vtype:{
				vtype:"number",
				min:1,
				max:65535
		},
		maxLength:5,
		// textFormat:$.su.format.number
	});
	
	$("input#enterprise-password-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.RADIUS_PASSWORD,
		labelCls:'l',
		vtype:{
			vtype:"password",
			maxLength:64
		},
		maxLength:64,
		autoTrim:false,
		allowBlank:false
	});
	


	$("input#wep-type-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto', itemCls:"fix_min", checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.OPEN_SYSTEM, inputValue: 'open'},
			{boxlabel: $.su.CHAR.WIRELESS.SHARED_KEY, inputValue: 'shared'}
		]
	});
	

	

	$("input#wep-key1-format-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});

	$("input#wep-key2-format-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});

	$("input#wep-key3-format-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});

	$("input#wep-key4-format-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});
	

	$("input#wep-key-select-2g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_SELECTED,
		labelCls:'l',
		items: [
			{"value": "1", "name": $.su.CHAR.WIRELESS.KEY1},
			{"value": "2", "name": $.su.CHAR.WIRELESS.KEY2},
			{"value": "3", "name": $.su.CHAR.WIRELESS.KEY3},
			{"value": "4", "name": $.su.CHAR.WIRELESS.KEY4}
		]
	}).on("ev_change", function(e, oldValue, newValue){
		//console.log( $('div#wpa-personal-5g') )
		var security = $("input#security-2g").combobox("getValue");
		if(security == "wep")
		{

		}
		else
		{
			return;
		}
		$('#key1_cnt_2g').fieldset("hide");
		$('#key2_cnt_2g').fieldset("hide");
		$('#key3_cnt_2g').fieldset("hide");
		$('#key4_cnt_2g').fieldset("hide");
		
		switch(newValue[0])
		{
			case '1': 
				// $('div#wpa-personal-5g').show();
				$('#key1_cnt_2g').fieldset("show");
				$('#key2_cnt_2g').fieldset("hide");
				$('#key3_cnt_2g').fieldset("hide");
				$('#key4_cnt_2g').fieldset("hide");
				break;
			case '2': 
				// $('div#wpa-personal-5g').show();
				$('#key1_cnt_2g').fieldset("hide");
				$('#key2_cnt_2g').fieldset("show");
				$('#key3_cnt_2g').fieldset("hide");
				$('#key4_cnt_2g').fieldset("hide");
				break;
			case '3': 
				// $('div#wpa-enterprise-5g').show();
				$('#key1_cnt_2g').fieldset("hide");
				$('#key2_cnt_2g').fieldset("hide");
				$('#key3_cnt_2g').fieldset("show");
				$('#key4_cnt_2g').fieldset("hide");
				break;
			case '4': 
				// $('div#wep-5g').show();
				$('#key1_cnt_2g').fieldset("hide");
				$('#key2_cnt_2g').fieldset("hide");
				$('#key3_cnt_2g').fieldset("hide");
				$('#key4_cnt_2g').fieldset("show");
				break;
		};
	});

	$("input#wep-key-select-2g").combobox("hide");
	$("input#wep-key-select-2g").combobox("setValue", 1);


	$("input#wep-key1-type-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	$("input#wep-key2-type-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64',  checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	$("input#wep-key3-type-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	$("input#wep-key4-type-2g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	
	
	$("input#wep-key1-value-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength:64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});

	$("input#wep-key2-value-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength:64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});


	$("input#wep-key3-value-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength:64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});

	$("input#wep-key4-value-2g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength:64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});


	$("#key1_cnt_2g").fieldset({
		fields: [
			{name: "wep_format1"},
			{name: "wep_type1"},
			{name: "wep_key1"}
		]
	}).hide();

	$("#key2_cnt_2g").fieldset({
		fields: [
			{name: "wep_format2"},
			{name: "wep_type2"},
			{name: "wep_key2"}
		]
	}).hide();

	$("#key3_cnt_2g").fieldset({
		fields: [
			{name: "wep_format3"},
			{name: "wep_type3"},
			{name: "wep_key3"}
		]
	}).hide();

	$("#key4_cnt_2g").fieldset({
		fields: [
			{name: "wep_format4"},
			{name: "wep_type4"},
			{name: "wep_key4"}
		]
	}).hide();
	



	$("input#mode-2g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.MODE,
		labelCls:'l'
	}).on("ev_change", function(e, oldValue, newValue){
		//$("input#enterprise-encryption-5g").radio
		switch(newValue[0])
		{
			case 'n':
			// case 'ng':
			case 'an': 
				$("input#security-2g").combobox("disableItem", ["wep"]);

				$("input#enterprise-encryption-2g").radio("disableItem", ["tkip"]);
				$("input#personal-encryption-2g").radio("disableItem", ["tkip"]);
				break;
			default: 
				$("input#security-2g").combobox("enableItem", ["wep"]);
				$("input#enterprise-encryption-2g").radio("enableItem", ["tkip"]);
				$("input#personal-encryption-2g").radio("enableItem", ["tkip"]);
				break;
		}
		if (cur_region_data.channel_2g.length > 13)
		{
			var channel_val = $("#channel-2g").combobox("getValue");
			var chan20 = get_ht_channel(cur_region_data.channel_2g, 20);
			if (newValue[0] != 'b') chan20.pop();
			$("#channel-2g").combobox("loadData",chan20);

			if(val_in_objArr(channel_val, chan20))
			{
				$("#channel-2g").combobox("setValue",channel_val);
			}
			else
			{
				$("#channel-2g").combobox("setValue","auto");
			}
		}
		switch(newValue[0])
		{
			case 'b':
			case 'g':
			case 'bg':
				$("input#channelwidth-2g").combobox("disableItem", ["40"]);
				$("input#channelwidth-2g").combobox("setValue", "auto");
				$("div#chwidth_2g").css({
					"display": "none"
				});
				break;
			case 'n':
			case 'ng':
			case 'gn':
			case 'bgn':
			default:
				$("input#channelwidth-2g").combobox("enableItem", ["40"]);
				$("div#chwidth_2g").fadeIn(150);
				break;
		}

	});

	

	// $("input#channelwidth-2g").switchbutton({
	// 	fieldLabel: $.su.CHAR.WIRELESS.CHANNEL_WIDTH,
	// 	labelCls:'l',
	// 	items:[
	// 		{text: $.su.CHAR.WIRELESS.AUTO, value:0,handler: null, cls:'', selected:true},
	// 		{text: $.su.CHAR.WIRELESS.MHZ20, value:1,handler: null},
	// 		{text: $.su.CHAR.WIRELESS.MHZ40, value:2,handler: null}
	// 	]
	// });

	$("input#channelwidth-2g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.CHANNEL_WIDTH,
		labelCls:'l'
		// columns:3,
		// items:[
		// 	{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto', checked:true},
		// 	{boxlabel: $.su.CHAR.WIRELESS.MHZ20, inputValue: '20'},
		// 	{boxlabel: $.su.CHAR.WIRELESS.MHZ40, inputValue: '40'}
		// ]
	});
	
	// $("input#channel-2g").switchbutton({
	// 	fieldLabel: $.su.CHAR.WIRELESS.CHANNEL,
	// 	labelCls:'l',
	// 	items:[
	// 		{text: $.su.CHAR.WIRELESS.AUTO, value:0, handler: null, cls:'', selected:true},
	// 		{text: $.su.CHAR.WIRELESS.CHANNEL_2437, value:1, cls:'l', handler: null}
	// 	]
	// });
	$("input#channel-2g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.CHANNEL,
		labelCls:'l'
		//tips: "The tips of combo multi.",
		// labelCls: "l",
		// inputCls: "xxl",
		// items: [
		// 	{"value": "0", "name": $.su.CHAR.WIRELESS.AUTO, selected:"selected"},
		// 	{"value": "1", "name": 1},
		// 	{"value": "2", "name": 2},
		// 	{"value": "3", "name": 3},
		// 	{"value": "4", "name": 4},
		// 	{"value": "5", "name": 5},
		// 	{"value": "6", "name": 6},
		// 	{"value": "7", "name": 7},
		// 	{"value": "8", "name": 8},
		// 	{"value": "9", "name": 9},
		// 	{"value": "10", "name": 10},
		// 	{"value": "11", "name": 11},
		// 	{"value": "12", "name": 12},
		// 	{"value": "13", "name": 13}
		// ]
	});	
	
	// $("input#transmit-power-2g").switchbutton({
	// 	fieldLabel: $.su.CHAR.WIRELESS.TRANSMIT_POWER,
	// 	labelCls:'l',
	// 	items:[
	// 		{text: $.su.CHAR.WIRELESS.LOW, value:0, handler: null, cls:'', selected:true},
	// 		{text: $.su.CHAR.WIRELESS.MIDDLE, value:1, handler: null},
	// 		{text: $.su.CHAR.WIRELESS.HIGH, value:2, handler: null}
	// 	]
	// });
	if ( $.su.module.egypt_special == true){
		$("input#transmit-power-2g").radio({
			fieldLabel: $.su.CHAR.WIRELESS.TRANSMIT_POWER,
			labelCls:'l',
			columns:3,
			items:[
				{boxlabel: $.su.CHAR.WIRELESS.LOW, inputValue: 'low', checked:true},
				{boxlabel: $.su.CHAR.WIRELESS.MIDDLE, inputValue: 'middle'},
				{boxlabel: $.su.CHAR.WIRELESS.EGYPT_HIGH_2G, inputValue: 'high'}
			]
		});			
	}else{
		$("input#transmit-power-2g").radio({
			fieldLabel: $.su.CHAR.WIRELESS.TRANSMIT_POWER,
			labelCls:'l',
			columns:3,
			items:[
				{boxlabel: $.su.CHAR.WIRELESS.LOW, inputValue: 'low', checked:true},
				{boxlabel: $.su.CHAR.WIRELESS.MIDDLE, inputValue: 'middle'},
				{boxlabel: $.su.CHAR.WIRELESS.HIGH, inputValue: 'high'}
			]
		});	
	}

	
	
	/////////////// 5g panel	
	// $("div#wireless-5g").panel({
	// 	title: $.su.CHAR.WIRELESS.WIRELESS_5GHZ,
	// 	help: ""	//可能是个调用的id 也可能是个url
	// });	
	
	
	
	// $("input#status-5g").switchbutton({
	// 	fieldLabel: $.su.CHAR.WIRELESS.WIRELESS_RADIO,
	// 	labelCls: "l"
	// });
$("input#status-5g").checkbox({
		fieldLabel: "",
		// cls: "inline",
		tips:"",
		tipsCls:"s",
		labelCls:'l',
		items: [
			{boxlabel: $.su.CHAR.WIRELESS.ENABLE_WIRELESS, uncheckedValue:"off", inputValue: "on", id: "chk-enable-wireless-5g"}
		]
	}).on("ev_change", function(e, oldValue, newValue){
		// console.dir(newValue);
		if( (newValue.length == 0) || (newValue == "off"))
		{
			$("#wireless_5g_disabled_all").val("on");
		}
		else
		{
			$("#wireless_5g_disabled_all").val("off");
		}
	});
	
	$("input#network-name-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.WIRELESS_NETWORK_NAME,
		labelCls:'l',
		vtype:{
			vtype:"string_visible_allow_blank",
			maxLength:32
		},
		maxLength:32,
		autoTrim:false,
		tipsCls:"after-checkbox",
		allowBlank:false,
		cls: 'inline-block'
	});
	
	$("input#enable-ssid-5g").checkbox({
		fieldLabel: null,
		labelCls:'l',
		cls: "inline",
		items: [
			{boxlabel: $.su.CHAR.WIRELESS.HIDE_SSID,  uncheckedValue:"off", inputValue: "on", id: "chk-enable-ssid-broadcast"}
		]
	});

	$('#wpa3-personal-5g').fieldset({
		fields: [
			{name: "psk_version"},
			{name: "psk_cipher"},
			{name: "psk_key"}
		]
	}).hide();

	/*$('#wpa3-enterprise-5g').fieldset({
		fields: [
			{name: "wpa_version"},
			{name: "wpa_cipher"}
		]
	}).hide();*/

	$('#wpa-personal-5g').fieldset({
		fields: [
			{name: "psk_version"},
			{name: "psk_cipher"},
			{name: "psk_key"}
		]
	}).hide();


	$('#wpa-enterprise-5g').fieldset({
		fields: [
			{name: "wpa_version"},
			{name: "wpa_cipher"},
			{name: "server"},
			{name: "port"},
			{name: "wpa_key"}
		]
	}).hide();
	
	$('#enterprise-fieldset-5g').fieldset({
		fields: [
			{name: "server"},
			{name: "port"},
			{name: "wpa_key"}
		]
	}).hide();

	$('#wep-5g').fieldset({
		fields: [
			{name: "wep_mode"},
			{name: "wep_format1"},
			{name: "wep_format2"},
			{name: "wep_format3"},
			{name: "wep_format4"},
			{name: "wep_select"},
			{name: "wep_type1"},
			{name: "wep_key1"},
			{name: "wep_type2"},
			{name: "wep_key2"},
			{name: "wep_type3"},
			{name: "wep_key3"},
			{name: "wep_type4"},
			{name: "wep_key4"}
		]
	});

	var securityItem5g = [];
	if( $.su.module.support_wpa3_5g == true ){
		securityItem5g = [
			{"value": "none", "name": $.su.CHAR.WIRELESS.NO_SECURITY},
			{"value": "psk", "name": $.su.CHAR.WIRELESS.WPA_WPA2_PERSONAL},
			{"value": "psk_sae", "name": $.su.CHAR.WIRELESS.WPA3_WPA2_PERSONAL},
			//{"value": "wpa3", "name": $.su.CHAR.WIRELESS.WPA3_ENTERPRISE},
			{"value": "wpa", "name": $.su.CHAR.WIRELESS.WPA_WPA2_ENTERPRISE},
			//{"value": "wep", "name": $.su.CHAR.WIRELESS.WEP}
		];
	}else{
		securityItem5g = [
			{"value": "none", "name": $.su.CHAR.WIRELESS.NO_SECURITY},
			{"value": "psk", "name": $.su.CHAR.WIRELESS.WPA_WPA2_PERSONAL_RE},
			{"value": "wpa", "name": $.su.CHAR.WIRELESS.WPA_WPA2_ENTERPRISE},
			{"value": "wep", "name": $.su.CHAR.WIRELESS.WEP}
		];
	}
	
	$("input#security-5g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.SECURITY,
		//tips: "The tips of combo multi.",
		labelCls: "l",
		inputCls: "xxl",
		items: securityItem5g
	}).on("ev_change", function(e, oldValue, newValue){
		$('#wpa3-personal-5g').fieldset("hide");
		$('#wpa-personal-5g').fieldset("hide");
		$("input#personal-password-5g").textbox("hide");

		$('#enterprise-fieldset-5g').fieldset("hide");
		//$('#wpa3-enterprise-5g').fieldset("hide");
		$('#wpa-enterprise-5g').fieldset("hide");
		$('#wep-5g').fieldset("hide");
		$('#mode-5g').combobox("enableItem",["n_5", "ac_5"]);
		switch(newValue[0])
		{
			case 'psk_sae': 
			case 'psk': 
				// psk_sae
				if (newValue[0] === 'psk_sae') {
					$('#wpa3-personal-5g').fieldset("show");
					var versionValue=$("input#wpa3-personal-version-5g").radio("getValue");
					if($.inArray(versionValue, psk3Versions) < 0){
						$("input#wpa3-personal-version-5g").radio("setValue","sae_transition");
					}
				}
				// psk
				if (newValue[0] === 'psk') {
					$('#wpa-personal-5g').fieldset("show");

					var versionValue=$("input#personal-version-5g").radio("getValue");
					if($.inArray(versionValue, psk3Versions) >= 0){
						$("input#personal-version-5g").radio("setValue","auto");
					}
				}
				// common for psk_sae and psk
				$("input#personal-password-5g").textbox("show");				
				$('#mode-5g').combobox("enableItem",["n_5", "ac_5"]);
				var  personal_encryption_5g = $("input#personal-encryption-5g").radio("getValue");
				var  mode_5g = $("input#mode-5g").combobox("getValue");
				if( ((personal_encryption_5g == "tkip")&&(mode_5g == "n_5")) || ((personal_encryption_5g == "tkip")&&(mode_5g == "ac_5")) )
				{
					$("input#personal-encryption-5g").radio("setValue", "auto");
				}
				if(personal_encryption_5g == "tkip")
				{
					$('#mode-5g').combobox("disableItem",["n_5", "ac_5"]);
				}
				if( (mode_5g == "n_5") || (mode_5g == "ac_5"))
				{
					$("input#enterprise-encryption-5g").radio("disableItem", ["tkip"]);
					$("input#personal-encryption-5g").radio("disableItem", ["tkip"]);
				}
				break;
			case 'wpa3': 
			case 'wpa': 
				// wpa3
			if (newValue[0] === 'wpa3') {
				//$('#wpa3-enterprise-5g').fieldset("show");
				//$("#wpa3-enterprise-version-5g").radio("setValue", "wpa3");
				//$("#wpa3-enterprise-encryption-5g").radio("setValue", "gcmp");
			}
			// wpa
			if (newValue[0] === 'wpa') {
				$('#wpa-enterprise-5g').fieldset("show");
				var versionValue = $("#enterprise-version-5g").radio("getValue");
				var encryptionValue = $("#enterprise-encryption-5g").radio("getValue");
				$("#enterprise-version-5g").radio("setValue", versionValue === "wpa3" ? "auto" : versionValue);
				$("#enterprise-encryption-5g").radio("setValue", encryptionValue === "gcmp" ? "auto" : encryptionValue);
			}
			// common for wpa3 and wpa
			$('#enterprise-fieldset-5g').fieldset("show");
				$('#mode-5g').combobox("enableItem",["n_5", "ac_5"]);
				var  enterprise_encryption_5g = $("input#enterprise-encryption-5g").radio("getValue");
				var  mode_5g = $("input#mode-5g").combobox("getValue");
				if(  ((enterprise_encryption_5g == "tkip")&&(mode_5g == "n_5"))  || ((enterprise_encryption_5g == "tkip")&&(mode_5g == "ac_5")))
				{
					$("input#enterprise-encryption-5g").radio("setValue", "auto");
				}
				if(enterprise_encryption_5g == "tkip")
				{
					$('#mode-5g').combobox("disableItem",["n_5", "ac_5"]);
				}
				if((mode_5g == "n_5") || (mode_5g == "ac_5"))
				{
					$("input#enterprise-encryption-5g").radio("disableItem", ["tkip"]);
					$("input#personal-encryption-5g").radio("disableItem", ["tkip"]);
				}
				break;
			case 'wep':
				// //console.log('wep'); 
				// $('div#wep-5g').show();
				$('#wep-5g').fieldset("show");
				
				$('#mode-5g').combobox("disableItem",["n_5", "ac_5"]);
				if($("form#wireless-setting-5g").data("data"))
				{
					var keyIndex = $("form#wireless-setting-5g").data("data").wep_select;
					switch(keyIndex)
					{
						case '1': 
							// $('div#wpa-personal-5g').show();
							$('#key1_cnt_5g').fieldset("show");
							$('#key2_cnt_5g').fieldset("hide");
							$('#key3_cnt_5g').fieldset("hide");
							$('#key4_cnt_5g').fieldset("hide");
							break;
						case '2': 
							// $('div#wpa-personal-5g').show();
							$('#key1_cnt_5g').fieldset("hide");
							$('#key2_cnt_5g').fieldset("show");
							$('#key3_cnt_5g').fieldset("hide");
							$('#key4_cnt_5g').fieldset("hide");
							break;
						case '3': 
							// $('div#wpa-enterprise-5g').show();
							$('#key1_cnt_5g').fieldset("hide");
							$('#key2_cnt_5g').fieldset("hide");
							$('#key3_cnt_5g').fieldset("show");
							$('#key4_cnt_5g').fieldset("hide");
							break;
						case '4': 
							// $('div#wep-5g').show();
							$('#key1_cnt_5g').fieldset("hide");
							$('#key2_cnt_5g').fieldset("hide");
							$('#key3_cnt_5g').fieldset("hide");
							$('#key4_cnt_5g').fieldset("show");
							break;
					};
				}
				break;
		}
	});

	$("input#wpa3-personal-version-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:2,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'sae_transition', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.WPA3_PSK, inputValue: 'sae_only'}
		]
	});

	$("input#personal-version-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.WPA_PSK, inputValue: 'wpa'},
			{boxlabel: $.su.CHAR.WIRELESS.WPA2_PSK, inputValue: 'rsn'}
		]
	});

	$("input#wpa3-personal-encryption-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:1,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'ccmp',checked: true}
		]
	})
	$("input#wpa3-personal-encryption-5g").radio("hide")

	$("input#personal-encryption-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto'},
			{boxlabel: $.su.CHAR.WIRELESS.TKIP, inputValue: 'tkip'},
			{boxlabel: $.su.CHAR.WIRELESS.AES, inputValue: 'aes'}
		]
	}).on("ev_change",function(e, oldValue, newValue){
		switch(newValue)
		{
			case 'auto':
				$('#mode-5g').combobox("enableItem",["n_5", "ac_5"]);
				break;
			case 'aes':
				$('#mode-5g').combobox("enableItem",["n_5", "ac_5"]);
				break;
			case 'tkip':
				$('#mode-5g').combobox("disableItem",["n_5", "ac_5"]);
				break;
		}
		
	});
	
	$("input#personal-password-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.WIRELESS_PASSWORD,
		labelCls:'l',
		autoTrim:false,
		maxLength: 64
	});
	$("input#personal-password-5g").textbox("hide");

	/*$("input#wpa3-enterprise-version-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: '', inputValue: 'wpa3', checked:true}
		]
	});

	$("input#wpa3-enterprise-encryption-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: '', inputValue: 'gcmp', checked:true}
		]
	});*/

	$("input#enterprise-version-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.VERSION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.WPA, inputValue: 'wpa'},
			{boxlabel: $.su.CHAR.WIRELESS.WPA2, inputValue: 'rsn'}
		]
	});

	$("input#enterprise-encryption-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.ENCRYPTION,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto'},
			{boxlabel: $.su.CHAR.WIRELESS.TKIP, inputValue: 'tkip'},
			{boxlabel: $.su.CHAR.WIRELESS.AES, inputValue: 'aes'}
		]
	}).on("ev_change",function(e, oldValue, newValue){
		switch(newValue)
		{
			case 'auto':
				$('#mode-5g').combobox("enableItem",["n_5", "ac_5"]);
				break;
			case 'aes':
				$('#mode-5g').combobox("enableItem",["n_5", "ac_5"]);
				break;
			case 'tkip':
				$('#mode-5g').combobox("disableItem",["n_5", "ac_5"]);
				break;
		}
		
	});
	
	$("input#enterprise-ip-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.RADIUS_SERVER_IP,
		labelCls:'l',
		textFormat:$.su.format.ip,
		maxLength:15,
		validator:function(val){

			if($.su.func.ipToInt(val) == $.su.func.ipToInt(lanIP))
			{
				return $.su.ERROR["00000077"];
			}
			return true;
		},
		vtype:"ip"

	});
	
	$("input#enterprise-port-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.RADIUS_PORT,
		labelCls:'l',
		vtype:{
				vtype:"number",
				min:1,
				max:65535
		},
		maxLength:5

	});
	
	$("input#enterprise-password-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.RADIUS_PASSWORD,
		labelCls:'l',
		vtype:{
			vtype:"password",
			maxLength:64
		},
		maxLength:64,
		autoTrim:false,
		allowBlank:false

	});
	


	$("input#wep-type-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.AUTO, inputValue: 'auto', itemCls:"fix_min", checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.OPEN_SYSTEM, inputValue: 'open'},
			{boxlabel: $.su.CHAR.WIRELESS.SHARED_KEY, inputValue: 'shared'}
		]
	});
	

	

	$("input#wep-key1-format-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});

	$("input#wep-key2-format-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});

	$("input#wep-key3-format-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});

	$("input#wep-key4-format-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.WEP_KEY_FORMAT,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.ASCII, inputValue: 'asic',  checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.HEXADECIMAL, inputValue: 'hex'}
		]
	});
	

	$("input#wep-key-select-5g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_SELECTED,
		labelCls: "l",
		// inputCls: "xxl",
		items: [
			{"value": "1", "name": $.su.CHAR.WIRELESS.KEY1},
			{"value": "2", "name": $.su.CHAR.WIRELESS.KEY2},
			{"value": "3", "name": $.su.CHAR.WIRELESS.KEY3},
			{"value": "4", "name": $.su.CHAR.WIRELESS.KEY4}
		]
	}).on("ev_change", function(e, oldValue, newValue){
		var security = $("input#security-5g").combobox("getValue");
		if(security == "wep")
		{

		}
		else
		{
			return;
		}
		$('#key1_cnt_5g').fieldset("hide");
		$('#key2_cnt_5g').fieldset("hide");
		$('#key3_cnt_5g').fieldset("hide");
		$('#key4_cnt_5g').fieldset("hide");
		
		switch(newValue[0])
		{
			case '1': 
				// $('div#wpa-personal-5g').show();
				$('#key1_cnt_5g').fieldset("show");
				$('#key2_cnt_5g').fieldset("hide");
				$('#key3_cnt_5g').fieldset("hide");
				$('#key4_cnt_5g').fieldset("hide");
				break;
			case '2': 
				// $('div#wpa-personal-5g').show();
				$('#key1_cnt_5g').fieldset("hide");
				$('#key2_cnt_5g').fieldset("show");
				$('#key3_cnt_5g').fieldset("hide");
				$('#key4_cnt_5g').fieldset("hide");
				break;
			case '3': 
				// $('div#wpa-enterprise-5g').show();
				$('#key1_cnt_5g').fieldset("hide");
				$('#key2_cnt_5g').fieldset("hide");
				$('#key3_cnt_5g').fieldset("show");
				$('#key4_cnt_5g').fieldset("hide");
				break;
			case '4': 
				// $('div#wep-5g').show();
				$('#key1_cnt_5g').fieldset("hide");
				$('#key2_cnt_5g').fieldset("hide");
				$('#key3_cnt_5g').fieldset("hide");
				$('#key4_cnt_5g').fieldset("show");
				break;
		};
	});

	$("input#wep-key-select-5g").combobox("hide");
	$("input#wep-key-select-5g").combobox("setValue", 1);


	$("input#wep-key1-type-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	$("input#wep-key2-type-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	$("input#wep-key3-type-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	$("input#wep-key4-type-5g").radio({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_TYPE,
		labelCls:'l',
		columns:3,
		items:[
			{boxlabel: $.su.CHAR.WIRELESS.BIT64, inputValue: '64', checked:true},
			{boxlabel: $.su.CHAR.WIRELESS.BIT128, inputValue: '128'}
		]
	});

	
	
	$("input#wep-key1-value-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength: 64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});

	$("input#wep-key2-value-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength: 64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});


	$("input#wep-key3-value-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength: 64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});

	$("input#wep-key4-value-5g").textbox({
		fieldLabel: $.su.CHAR.WIRELESS.KEY_VALUE,
		labelCls:'l',
		autoTrim:false,
		maxLength: 64
	//	tips:$.su.CHAR.BANDWIDTHCTR.UNIT,
		// labelCls: "l"
	});


	$("#key1_cnt_5g").fieldset({
		fields: [
			{name: "wep_format1"},
			{name: "wep_type1"},
			{name: "wep_key1"}
		]
	}).hide();

	$("#key2_cnt_5g").fieldset({
		fields: [
			{name: "wep_format2"},
			{name: "wep_type2"},
			{name: "wep_key2"}
		]
	}).hide();

	$("#key3_cnt_5g").fieldset({
		fields: [
			{name: "wep_format3"},
			{name: "wep_type3"},
			{name: "wep_key3"}
		]
	}).hide();

	$("#key4_cnt_5g").fieldset({
		fields: [
			{name: "wep_format4"},
			{name: "wep_type4"},
			{name: "wep_key4"}
		]
	}).hide();


	$("input#mode-5g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.MODE,
		labelCls:'l'
	}).on("ev_change", function(e, oldValue, newValue){
		//$("input#enterprise-encryption-5g").radio
		switch(newValue[0])
		{
			// case 'n_5':
			// case 'ng':
			case 'ac_5': 
			case 'n_5': 
				$("input#security-5g").combobox("disableItem", ["wep"]);
				$("input#enterprise-encryption-5g").radio("disableItem", ["tkip"]);
				$("input#personal-encryption-5g").radio("disableItem", ["tkip"]);
				break;
			default: 
				$("input#security-5g").combobox("enableItem", ["wep"]);
				$("input#enterprise-encryption-5g").radio("enableItem", ["tkip"]);
				$("input#personal-encryption-5g").radio("enableItem", ["tkip"]);
				break;
		}
		switch(newValue[0])
		{
			case 'a_5':
				$("#channelwidth-5g").combobox("disableItem", ["40"]);
				$("#channelwidth-5g").combobox("disableItem", ["80"]);
				$("#channelwidth-5g").combobox("setValue", "auto");
				$("div#chwidth_5g").css({
					"display": "none"
				});
				break;
			case 'n_5':
			case 'an_5':
				var chwidth = $("#channelwidth-5g").combobox("getValue");
				$("#channelwidth-5g").combobox("enableItem", ["40"]);
				$("#channelwidth-5g").combobox("disableItem", ["80"]);
				if (chwidth == "80")$("#channelwidth-5g").combobox("setValue", "auto");
				$("div#chwidth_5g").fadeIn(150);
				break;
			case 'ac_5':
			case 'anac_5':
			default:
				$("#channelwidth-5g").combobox("enableItem", ["40"]);
				$("#channelwidth-5g").combobox("enableItem", ["80"]);
				$("div#chwidth_5g").fadeIn(150);
				break;
		}
	});

	function val_in_objArr(val, obj){
		var len = obj.length;
		for(var index = 0; index < len; index++)
		{
			if(val == obj[index].value)
			{
				return true
			}
		}
		return false;
	}

	function get_ht_channel(chan, width)
	{
		var newchan=[];
		var len = chan.length;
		
		if( $.su.module.egypt_special == true ){
			newchan[0] = {"name":$.su.CHAR.WIRELESS.EGYPT_AUTO_5G, "value":"auto"};		
		}else{
			newchan[0] = {"name":$.su.CHAR.WIRELESS.AUTO, "value":"auto"};
		}
		
		if (!(width % 20)) 
		{
			var prev = -1;
			var count = 0;
			for (var i = 0; i <= len; i ++)
			{
				var tempObj = {};
				ch = parseInt(chan[i]);
				if (prev < 0 || prev + 4 == ch) 
				{
					count += 20;
				} 
				else 
				{
					while (count % width)
					{
						newchan.pop()
						count -= 20;
					}
					if (isNaN(ch)) {
						break;
					}
					count = 20;
				}
				prev = ch;
				tempObj.name 	= ch;
				tempObj.value 	= ch;
				newchan.push(tempObj);
			}
		}
		return newchan;
	}

	function get_ht_channel_160(chan){
		var newchan=[];
		newchan[0] = {"name":$.su.CHAR.WIRELESS.AUTO, "value":"auto"};
		var len = chan.length;
		var ch;
		var chanFor160 = [ 36,40,44,48,52,56,60,64 ];
		var chanFor160_band3 = [100,104,108,112,116,120,124,128 ];

		var subchan;
		var available = true;
		for (var i = 0; i < chanFor160_band3.length; i ++){
			subchan = chanFor160_band3[i].toString();
			if ($.inArray(subchan, chan) < 0)
			{
				available = false;
				break;
			}
		}

		if (available == true)
		{
			chanFor160.push.apply(chanFor160, chanFor160_band3);
		}

		for (var i = 0; i <= len; i ++){
			var tempObj = {};
			ch = parseInt(chan[i]);
			if($.inArray(ch, chanFor160)>-1){
				tempObj.name 	= ch;
				tempObj.value 	= ch;
				newchan.push(tempObj);
			}
		}
		return newchan;
	}


	$("#channelwidth-5g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.CHANNEL_WIDTH,
		labelCls:'l',
		columns:3
	}).on("ev_change", function(e, oldValue, newValue){
	
		// var channel_val = $("form#wireless-setting-5g").data("data").channel;
		var channel_val = $("#channel-5g").combobox("getValue");

		function channelDFS(chan){
			var result = [];
			for(var i=0; i<chan.length; i++){
				result.push(chan[i])
				if( (chan[i].value==52)||(chan[i].value==56)||(chan[i].value==60)||(chan[i].value==64)||(chan[i].value==100)||(chan[i].value==104)||(chan[i].value==108)||(chan[i].value==112)||(chan[i].value==116)||(chan[i].value==120)||(chan[i].value==124)||(chan[i].value==128)||(chan[i].value==132)||(chan[i].value==136)||(chan[i].value==140)||(chan[i].value==144) ){
					result[i].name += "(DFS)";
				}
			}
			return result;
		}
		switch(newValue[0])
		{
			case "auto":
			case "20":
				// //console.dir(cur_region_data.channel_5g);
				var chan20 = get_ht_channel(cur_region_data.channel_5g, 20);
				// //console.dir(chan20);
				$("#channel-5g").combobox("loadData",channelDFS(chan20));
				if(val_in_objArr(channel_val, chan20))
				{
					$("#channel-5g").combobox("setValue",channel_val);
				}
				else
				{
					$("#channel-5g").combobox("setValue","auto");
				}
				break;
			case "40":
				var chan40 = get_ht_channel(cur_region_data.channel_5g, 40);
				$("#channel-5g").combobox("loadData",channelDFS(chan40));
				if(val_in_objArr(channel_val, chan40))
				{
					$("#channel-5g").combobox("setValue",channel_val);
				}
				else
				{
					$("#channel-5g").combobox("setValue","auto");
				}
				break;
			case "80":
				var chan80 = get_ht_channel(cur_region_data.channel_5g, 80);
				$("#channel-5g").combobox("loadData",channelDFS(chan80));
				if(val_in_objArr(channel_val, chan80))
				{
					$("#channel-5g").combobox("setValue",channel_val);
				}
				else
				{
					$("#channel-5g").combobox("setValue","auto");
				}
				break;
			case "160":
				var chan160 = get_ht_channel_160(cur_region_data.channel_5g, 160);
				$("#channel-5g").combobox("loadData",channelDFS(chan160));
				if(val_in_objArr(channel_val, chan160))
				{
					$("#channel-5g").combobox("setValue",channel_val);
				}
				else
				{
					$("#channel-5g").combobox("setValue","auto");
				}
				break;
		}
	});

	$("input#channel-5g").combobox({
		fieldLabel: $.su.CHAR.WIRELESS.CHANNEL,
		labelCls:'l'
	});	


	if ( $.su.module.egypt_special == true ){
		$("input#transmit-power-5g").radio({
			fieldLabel: $.su.CHAR.WIRELESS.TRANSMIT_POWER,
			labelCls:'l',
			columns:3,
			items:[
				{boxlabel: $.su.CHAR.WIRELESS.LOW, inputValue: 'low',  checked:true},
				{boxlabel: $.su.CHAR.WIRELESS.MIDDLE, inputValue: 'middle'},
				{boxlabel: $.su.CHAR.WIRELESS.EGYPT_HIGH_5G, inputValue: 'high'}
			]
		});
	}else{
		$("input#transmit-power-5g").radio({
			fieldLabel: $.su.CHAR.WIRELESS.TRANSMIT_POWER,
			labelCls:'l',
			columns:3,
			items:[
				{boxlabel: $.su.CHAR.WIRELESS.LOW, inputValue: 'low',  checked:true},
				{boxlabel: $.su.CHAR.WIRELESS.MIDDLE, inputValue: 'middle'},
				{boxlabel: $.su.CHAR.WIRELESS.HIGH, inputValue: 'high'}
			]
		});
	}

	//mimoInit
	mimoModule.init("5g");
	atfModule.init("input#fairness_5g");

// form 

	var wireless2gProxy = new $.su.Proxy({
		url:URL_WIRELESS_2G_NEW
	});
	
	var form2gFields = [
		{name: "enable", mapping: "enable"},
		{name: "ssid", mapping: "ssid"},
		{name: "hidden", mapping: "hidden"},
		{name: "encryption", mapping: "encryption"},

		{name: "psk_version", mapping: "psk_version"},
		{name: "psk_cipher", mapping: "psk_cipher"},
		{name: "psk_key", mapping: "psk_key"},

		{name: "wpa_version", mapping: "wpa_version"},
		{name: "wpa_cipher", mapping: "wpa_cipher"},
		{name: "server", mapping: "server"},
		{name: "port", mapping: "port"},
		{name: "wpa_key", mapping: "wpa_key"},


		{name: "wep_mode", mapping: "wep_mode"},

		{name: "wep_select", mapping: "wep_select"},
		{name: "wep_format1", mapping: "wep_format1"},
		{name: "wep_type1", mapping: "wep_type1"},
		{name: "wep_key1", mapping: "wep_key1"},

		{name: "wep_format2", mapping: "wep_format2"},
		{name: "wep_type2", mapping: "wep_type2"},
		{name: "wep_key2", mapping: "wep_key2"},

		{name: "wep_format3", mapping: "wep_format3"},
		{name: "wep_type3", mapping: "wep_type3"},
		{name: "wep_key3", mapping: "wep_key3"},

		{name: "wep_format4", mapping: "wep_format4"},
		{name: "wep_type4", mapping: "wep_type4"},
		{name: "wep_key4", mapping: "wep_key4"},

		{name: "hwmode", mapping: "hwmode"},
		{name: "htmode", mapping: "htmode"},
		{name: "channel", mapping: "channel"},
		{name: "txpower", mapping: "txpower"}
	];
	form2gFields = mimoModule.extendField(form2gFields);
	form2gFields = atfModule.extendField(form2gFields);
	$("form#wireless-setting-2g").form({
		proxy: wireless2gProxy,
		fields: form2gFields,
		autoLoad:false,
		validator:function(){
			var validatorFlag = validator_wireless_form("2g");
			if(!validatorFlag){
				return false;
			}
			return !smartModule.smartSubmit("2g");
		},
		submitBtn: "default"
	}).on("ev_loadData", function(e, data){
		// if(data.disabled == "on")
		// {
		// 	if(data.disabled_by == 0){
		// 		$("span#note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
		// 	}
		// 	else{
		// 		$("span#note_title_2g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE2);
		// 	}
		// 	disabled_2g = "on";
		// 	$("#note_title_2g").removeClass("hidden");
		// 	$("form#wireless-setting-2g").form("disable");
		// }
		// else
		// {
			disabled_2g = "off";
			$("#note_title_2g").addClass("hidden");
			$("form#wireless-setting-2g").form("enable");
		// }
		
		$.su.post(SYS_WIRELESS_2G_URL_NEW, function(data){
			if(typeof data.data == "undefined")
			{
				return;
			}
			

			// if(disabled_2g == "on")
			// {
			// 	$("#note_title_2g").removeClass("hidden");
			// 	$("form#wireless-setting-2g").form("disable");
			// }
			// else
			// {
				$("#note_title_2g").addClass("hidden");
				$("form#wireless-setting-2g").form("enable");
				wdsModule.wds2gProxyRead(data);
			// }
			var security_2g = $("input#security-2g").combobox("getValue");
			if(security_2g == "wep")
			{
				$('#mode-2g').combobox("disableItem", ["n"]);
			}
			else if(security_2g == "psk"|| security_2g == "psk_sae")
			{
				var personal_encryption_2g = $("input#personal-encryption-2g").radio("getValue");
				if(personal_encryption_2g == "tkip")
				{
					$('#mode-2g').combobox("disableItem", ["n"]);
				}
			}

			var mode_2g = $("input#mode-2g").combobox("getValue");
			if(mode_2g == "n")
			{
				$("input#enterprise-encryption-2g").radio("disableItem", ["tkip"]);
				$("input#personal-encryption-2g").radio("disableItem", ["tkip"]);
			}
		},"json");
	});

	var wireless5gProxy = new $.su.Proxy({
		// url: "./data/wireless.5g.json"
		url:URL_WIRELESS_5G_NEW
	});

	var form5gFields = [
		{name: "enable", mapping: "enable"},
		{name: "ssid", mapping: "ssid"},
		{name: "hidden", mapping: "hidden"},
		{name: "encryption", mapping: "encryption"},

		{name: "psk_version", mapping: "psk_version"},
		{name: "psk_cipher", mapping: "psk_cipher"},
		{name: "psk_key", mapping: "psk_key"},

		{name: "wpa_version", mapping: "wpa_version"},
		{name: "wpa_cipher", mapping: "wpa_cipher"},
		{name: "server", mapping: "server"},
		{name: "port", mapping: "port"},
		{name: "wpa_key", mapping: "wpa_key"},


		{name: "wep_mode", mapping: "wep_mode"},

		{name: "wep_select", mapping: "wep_select"},
		{name: "wep_format1", mapping: "wep_format1"},
		{name: "wep_type1", mapping: "wep_type1"},
		{name: "wep_key1", mapping: "wep_key1"},

		{name: "wep_format2", mapping: "wep_format2"},
		{name: "wep_type2", mapping: "wep_type2"},
		{name: "wep_key2", mapping: "wep_key2"},

		{name: "wep_format3", mapping: "wep_format3"},
		{name: "wep_type3", mapping: "wep_type3"},
		{name: "wep_key3", mapping: "wep_key3"},

		{name: "wep_format4", mapping: "wep_format4"},
		{name: "wep_type4", mapping: "wep_type4"},
		{name: "wep_key4", mapping: "wep_key4"},

		{name: "hwmode", mapping: "hwmode"},
		{name: "htmode", mapping: "htmode"},
		{name: "channel", mapping: "channel"},
		{name: "current_channel", mapping: "current_channel"},
		{name: "txpower", mapping: "txpower"}
	];
	form5gFields = mimoModule.extendField(form5gFields);
	form5gFields = atfModule.extendField(form5gFields);
	var form_5g = $("form#wireless-setting-5g").form({
		proxy: wireless5gProxy,
		fields: form5gFields,
		validator:function(){
			var validatorFlag = validator_wireless_form("5g");
			if(!validatorFlag){
				return false;
			}

			skip_old_current_channel_5g = true;

			return !smartModule.smartSubmit("5g");
		},
		autoLoad:false,
		submitBtn: "default"
	}).on("ev_loadData", function(e, data){
		// if(data.disabled == "on")
		// {
		// 	disabled_5g = "on"; 
		// 	if(data.disabled_by == 0){
		// 		$("span#note_title_5g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE);
		// 	}
		// 	else{
		// 		$("span#note_title_5g_text").text($.su.CHAR.SYSPARA.SWITCH_NOTICE2);
		// 	}
		// 	$("#note_title_5g").removeClass("hidden");
		// 	$("form#wireless-setting-5g").form("disable");
		// }
		// else
		// {
			disabled_5g = "off"; 
			$("#note_title_5g").addClass("hidden");
			$("form#wireless-setting-5g").form("enable");
		// }


	    if (data.channel != "auto") {
			var numberTest = new $.su.vtype({
	            vtype: "number"
			});
	    
	    	if (skip_old_current_channel_5g || (data.disabled == "off") || !numberTest.validate(data.current_channel)) {
				$("#channel-5g").combobox("setValue", data.channel);
	    	}
	    	else {
			    	$("#channel-5g").combobox("setValue", data.current_channel);
			}
	    }

		$.su.post(SYS_WIRELESS_5G_URL_NEW, function(data){
			if(typeof data.data == "undefined")
			{
				return;
			}
			

			// if(disabled_5g == "on")
			// {
			// 	$("#note_title_5g").removeClass("hidden");
			// 	$("form#wireless-setting-5g").form("disable");
			// }
			// else
			// {
				$("#note_title_5g").addClass("hidden");
				$("form#wireless-setting-5g").form("enable");
				wdsModule.wds5gProxyRead(data);
			// }

			var security_5g = $("input#security-5g").combobox("getValue");
			if(security_5g == "wep")
			{
				$('#mode-5g').combobox("disableItem", ["ac_5"]);
			}
			else if(security_5g == "psk"|| security_5g == "psk_sae")
			{
				var personal_encryption_5g = $("input#personal-encryption-5g").radio("getValue");
				if(personal_encryption_5g == "tkip")
				{
					$('#mode-5g').combobox("disableItem", ["ac_5"]);
				}
			}

			var mode_5g = $("input#mode-5g").combobox("getValue");
			if((mode_5g == "n_5") || (mode_5g == "ac_5"))
			{
				$("input#enterprise-encryption-5g").radio("disableItem", ["tkip"]);
				$("input#personal-encryption-5g").radio("disableItem", ["tkip"]);
			}
		},"json");
	});

	var validator_wireless_form = function(frequency){
		var encryption_array = $("input#security-" + frequency).combobox("getValue");
		encryption = encryption_array[0];
		if($.inArray(encryption, ["none", "wpa", "wpa3"]) >= 0){
			return true;
		}
		if ($.inArray(encryption, ["psk", "psk_sae"]) >= 0) {
			var val = $("input#personal-password-" + frequency).textbox("getValue");
			var reg_64 = /^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]{8,63}|[0-9a-fA-F]{8,64})$/;
			var reg_63 = /^([A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]{8,63})$/;
			var reg = encryption == "psk" ? reg_64 : reg_63;
			if(reg.test(val)){
				return true;
			}
			else{
				var errTips = encryption == 'psk' ? $.su.CHAR.ERROR["00000066"] : $.su.CHAR.ERROR["00004193"];
				$("input#personal-password-" + frequency).textbox("setError", errTips);
			}
		}
		if(encryption == "wep"){
			var keyIndex_arr = $("input#wep-key-select-" + frequency).combobox("getValue");
			var keyIndex = keyIndex_arr[0];
			var format_id  = "input#wep-key" + keyIndex + "-format-" + frequency;
			var format = $(format_id).radio("getValue");
			var type_id  = "input#wep-key" + keyIndex + "-type-" + frequency;
			var type = $(type_id).radio("getValue");
			var key_id = "input#wep-key" + keyIndex + "-value-" + frequency;
			var key = $(key_id).textbox("getValue");
		
			var asc_64_reg = /^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]{5}$/;
			var asc_128_reg = /^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]{13}$/;
			var asc_152_reg = /^[A-Za-z0-9\`\~\!\@\#\$\%\^\&\*\(\)\-\=\_\+\[\]\{\}\;\:\'\"\\\|\/\?\.\,\<\>\ ]{16}$/;
			
			var hex_64_reg = /^[0-9a-fA-F]{10}$/;
			var hex_128_reg = /^[0-9a-fA-F]{26}$/;
			var hex_152_reg = /^[0-9a-fA-F]{32}$/;

			if(format == "asic"){
				if(type == 64){
					if(asc_64_reg.test(key)){
						return true;
					}
					else{
						$(key_id).textbox("setError",$.su.CHAR.ERROR["00000068"]);
					}
				}
				else if(type == 128){
					if(asc_128_reg.test(key)){
						return true;
					}
					else{
						$(key_id).textbox("setError",$.su.CHAR.ERROR["00000070"]);
					}
				}
				else{
					if(asc_152_reg.test(key)){
						return true;
					}
					else{
						$(key_id).textbox("setError",$.su.CHAR.ERROR["00000072"]);
					}
				}
			}
			else{
				if(type == 64){
					if(hex_64_reg.test(key)){
						return true;
					}
					else{
						$(key_id).textbox("setError",$.su.CHAR.ERROR["00000067"]);
					}
				}
				else if(type == 128){
					if(hex_128_reg.test(key)){
						return true;
					}
					else{
						$(key_id).textbox("setError",$.su.CHAR.ERROR["00000069"]);
					}
				}
				else{
					if(hex_152_reg.test(key)){
						return true;
					}
					else{
						$(key_id).textbox("setError",$.su.CHAR.ERROR["00000071"]);
					}
				}
			}
		}
		return false;
	}
	tribandModule.init(val_in_objArr, get_ht_channel, cur_region_data,validator_wireless_form);
	smartModule.init();
	var init_load_form = function(data){
		var hwmode_2g = cur_region_data.hwmode_2g;
		var hwmode_5g = cur_region_data.hwmode_5g;
		var htmode_2g = cur_region_data.htmode_2g;
		var htmode_5g = cur_region_data.htmode_5g;
		var channel_5g = cur_region_data.channel_5g;
		var channel_2g = cur_region_data.channel_2g;

		$("#wireless_region").combobox("setValue",data.country);
		region_select_permission = data.region_select_permission;
		if(region_select_permission == "yes")
		{
			$("div#wireless-global").panel("show");
		}

		var hwmode_2g_item = [];
		var len = hwmode_2g.length;
		for(var k = 0; k < len; k++)
		{
			var tempObj = {};
			var lan_id = "MODE_" + hwmode_2g[k].toUpperCase();
			tempObj.name 	= $.su.CHAR.WIRELESS[lan_id];
			tempObj.value 	= hwmode_2g[k];
			hwmode_2g_item.push(tempObj);
		}
		$("#mode-2g").combobox("loadData",hwmode_2g_item);

		var htmode_2g_item = [];
		var len = htmode_2g.length;
		htmode_2g_item[0] = {name:$.su.CHAR.WIRELESS.AUTO,value:"auto"};
		for(var k = 0; k < len; k++)
		{
			var tempObj = {};
			tempObj.name 	= htmode_2g[k] + $.su.CHAR.WIRELESS.MHZ;
			tempObj.value 	= htmode_2g[k];
			htmode_2g_item.push(tempObj);
		}
		$("#channelwidth-2g").combobox("loadData",htmode_2g_item);

		var channel_2g_item = [];
		var len = channel_2g.length;
		channel_2g_item[0] = {name:$.su.CHAR.WIRELESS.AUTO,value:"auto"};
		for(var k = 0; k < len; k++)
		{
			var tempObj = {};	
			tempObj.name 	= channel_2g[k];
			tempObj.value 	= channel_2g[k];
			channel_2g_item.push(tempObj);
		}
		$("#channel-2g").combobox("loadData",channel_2g_item);

		$("span.first-mode").addClass("mode-select");
		$("span.second-mode").hasClass("mode-select")? $("span.second-mode").toggleClass("mode-select") : 1;
		$("#wireless-setting-5g").form("hide");
		$("#wireless-setting-2g").form("show");
		
		//如果该国家不支持5g
		if($.isEmptyObject(channel_5g))
		{
			if(is_2g_mode())
			{
				$("span.second-mode").addClass("disabled");
				$("span#not_support_tips").hide();
			}
			else
			{
				$("span.second-mode").toggleClass("mode-select");
				$("span.second-mode").addClass("disabled");
				$("span.first-mode").addClass("mode-select");
				$("#wireless-setting-5g").form("hide");
				$("#wireless-setting-2g").form("show");
				$("span#not_support_tips").show();
			}
		}
		else
		{
			$("span.second-mode").removeClass("disabled");
			var hwmode_5g_item = [];
			var len = hwmode_5g.length;
			for(var k = 0; k < len; k++)
			{
				var tempObj = {};
				var lan_id = "MODE_" + hwmode_5g[k].toUpperCase();
				tempObj.name 	= $.su.CHAR.WIRELESS[lan_id];
				tempObj.value 	= hwmode_5g[k];
				hwmode_5g_item.push(tempObj);
			}
			$("#mode-5g").combobox("loadData",hwmode_5g_item);


			var htmode_5g_item = [];
			htmode_5g_item[0] = {"name":$.su.CHAR.WIRELESS.AUTO,"value":"auto"};
			var len = htmode_5g.length;
			for(var k = 0; k < len; k++)
			{
				var tempObj = {};
				tempObj.name 	= htmode_5g[k] + "MHz";
				tempObj.value 	= htmode_5g[k];
				htmode_5g_item.push(tempObj);
			}
			$("#channelwidth-5g").combobox("loadData",htmode_5g_item);


			
			var channel_width = "";
			var channel_val = "";
		
			
			if(typeof $("form#wireless-setting-5g").data("data") != "undefined")
			{
				channel_width = $("form#wireless-setting-5g").data("data").htmode;
				channel_val = $("form#wireless-setting-5g").data("data").channel;
			}
			
			switch(channel_width)
			{
				case "auto":
				case "20":
					var chan20 = get_ht_channel(channel_5g, 20);
					$("#channel-5g").combobox("loadData",chan20);
					if(val_in_objArr(channel_val, chan20))
					{
						$("#channel-5g").combobox("setValue",channel_val);
					}
					else
					{
						$("#channel-5g").combobox("setValue","auto");
					}
					break;
				case "40":
					var chan40 = get_ht_channel(channel_5g, 40);
					$("#channel-5g").combobox("loadData",chan40);
					if(val_in_objArr(channel_val, chan40))
					{
						$("#channel-5g").combobox("setValue",channel_val);
					}
					else
					{
						$("#channel-5g").combobox("setValue","auto");
					}
					break;
				case "80":
					var chan80 = get_ht_channel(channel_5g, 80);
					$("#channel-5g").combobox("loadData",chan80);
					if(val_in_objArr(channel_val, chan80))
					{
						$("#channel-5g").combobox("setValue",channel_val);
					}
					else
					{
						$("#channel-5g").combobox("setValue","auto");
					}
					break;
			}
		}

		if(is_2g_mode())
		{
			$("form#wireless-setting-2g").form("load");
		}
		else
		{
			$("form#wireless-setting-5g").form("load");
		}

		$("form#wireless-setting-2g").form("load");
		$("form#wireless-setting-5g").form("load");
		
		tribandModule.initLoadForm(cur_region_data);
	}

	init_load_form(region_data);

	$("input#wep-key-select-2g").combobox("hide");
	$("input#wep-key-select-2g").combobox("setValue", 1);

	$("input#wep-key-select-5g").combobox("hide");
	$("input#wep-key-select-5g").combobox("setValue", 1);

	var content = ["WIRELESS_TITLE", "WIRELESS_24G", "WIRELESS_5G"];
	content = smartModule.addHelpContent(content);
	content = ofdmaModule.addHelpContent(content);

	var toggleWpa3Help = function(visible2g, visible5g){
		if(visible2g){
			$("#WEP_24G_TITLE").hide();
			$("#WPA3_24G_TITLE").show();
		}else{
			$("#WEP_24G_TITLE").show();
			$("#WPA3_24G_TITLE").hide();
		}
		if(visible5g){
			$("#WEP_5G_TITLE").hide();
			$("#WPA3_5G_TITLE").show();
		}else{
			$("#WEP_5G_TITLE").show();
			$("#WPA3_5G_TITLE").hide();
		}
	};

	var helpWirelessSetting = new $.su.Help({
		container: "div#help-wireless-setting",
		content: content,
		afterLoad: function(){
			var select = $("div#help-wireless-setting").find("h4.title");
			for(var i=0; i < this.content.length; ++i){
				$(select[i]).addClass(this.content[i]);
			}
			$("h4.WIRELESS_5G").html($.su.CHAR.WIRELESS.HELP_DBLBAND_TITLE);

			atfModule.helpInit();
			mimoModule.helpInit();
			tribandModule.helpInit();
			toggleWpa3Help($.su.module.support_wpa3_2g, $.su.module.support_wpa3_5g);

		}
	});
});
//]]>
</script>

</body>
</html>
